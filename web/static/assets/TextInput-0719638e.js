import{d as U,J as V,A as _,ay as I,az as B,r as C,h as N,a6 as k,i as T,_ as x,L as i,c as s,j as w,w as p,z as r,a as c,e as m,am as $,K as S,o as t,t as u,b as f}from"./index-2c23db35.js";const j=U({name:"TextInput",props:{modelValue:{type:Object,default:()=>({})},allowUnknown:{type:Boolean,default:!1},form:{type:Object,default:()=>({})},prefix:{type:String,default:""},suffix:{type:String,default:""},password:{type:Boolean,default:!1}},components:{IonLabel:V,IonInput:_,IonNote:I,IonCheckbox:B},emits:["update:modelValue"],setup(e,{emit:l}){const n=C(!1),o=N({get:()=>e.modelValue,set:a=>l("update:modelValue",a)}),b=async()=>{if(o.value.required&&!o.value.value)return o.value.error="This field is required";if(!e.allowUnknown&&o.value.value==="Unknown"||o.value.value==="N/A")return o.value.error="Unknown is not allowed";if(o.value.validation){const a=await o.value.validation({label:o.value.value,value:o.value.value},e.form);if(a&&a.length)return o.value.error+=a.toString()}return o.value.error=""};return k(n,a=>{a?(o.value.value="Unknown",o.value.error="",o.value.disabled=!0):(o.value.value="",o.value.disabled=!1)}),k(e.modelValue,a=>{a.value==="Unknown"?n.value||(n.value=!0):n.value=!1}),T(()=>{o.value.value==="Unknown"&&!n.value&&(n.value=!0)}),{validate:b,model:o,isUnknown:n}}});const q={key:0,class:"text-danger"},z={key:1,class:"ion-float-right ion-margin-end checkbox-label"},A={key:0,class:"pre-suffix-wrapper"},F={class:"inner-input-wrapper"},L={key:1,class:"pre-suffix-wrapper"};function O(e,l,n,o,b,a){const y=i("ion-checkbox"),v=i("ion-label"),g=i("ion-input"),h=i("ion-note");return t(),s(S,null,[e.model.label?(t(),w(v,{key:0,class:"ion-padding-bottom bold"},{default:p(()=>[c("span",null,u(e.model.label),1),e.model.required?(t(),s("span",q," *")):r("",!0),e.allowUnknown?(t(),s("span",z,[f(u(e.model.label)+" Unknown? ",1),m(y,{modelValue:e.isUnknown,"onUpdate:modelValue":l[0]||(l[0]=d=>e.isUnknown=d)},null,8,["modelValue"])])):r("",!0)]),_:1})):r("",!0),c("div",{class:$(["ion-margin-top outer-input-wrapper",e.model.error?"box-input-error":"box-input"])},[e.prefix?(t(),s("div",A,[m(v,{class:"checkbox-label bold"},{default:p(()=>[f(u(e.prefix),1)]),_:1})])):r("",!0),c("div",F,[m(g,{class:"ion-no-margin ion-no-padding",modelValue:e.model.value,"onUpdate:modelValue":l[1]||(l[1]=d=>e.model.value=d),type:e.password?"password":"text",placeholder:e.model.placeholder,disabled:e.model.disabled||e.isUnknown,onIonFocus:l[2]||(l[2]=d=>e.model.error=""),onIonBlur:e.validate},null,8,["modelValue","type","placeholder","disabled","onIonBlur"])]),e.suffix?(t(),s("div",L,[m(v,{class:"checkbox-label bold ion-float-right"},{default:p(()=>[f(u(e.suffix),1)]),_:1})])):r("",!0)],2),e.model.error?(t(),w(h,{key:1,color:"danger"},{default:p(()=>[f(u(e.model.error),1)]),_:1})):r("",!0)],64)}const E=x(j,[["render",O]]);export{E as T};
