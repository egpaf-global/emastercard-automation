{"version":3,"sources":["webpack:///./src/components/DataViews/ViewPort.vue?34c9","webpack:///./src/components/DataViews/ViewPort.vue","webpack:///./src/components/DataViews/ViewPort.vue?6fc5","webpack:///./src/apps/ART/services/lab_order_service.ts","webpack:///./src/components/FormElements/FieldMixin.vue","webpack:///./src/components/FormElements/FieldMixin.vue?27e2","webpack:///./src/components/DataViews/ViewPort.vue?da42","webpack:///./src/components/FormElements/HisLabOrders.vue?51a4","webpack:///./src/components/DataViews/LabOrderModal.vue?518e","webpack:///./src/components/DataViews/LabOrderModal.vue","webpack:///./src/components/DataViews/LabOrderModal.vue?f722","webpack:///./src/components/DataViews/LabOrderModal.vue?032e","webpack:///./src/components/FormElements/HisLabOrders.vue?9bda","webpack:///./src/components/FormElements/HisLabOrders.vue","webpack:///./src/components/FormElements/HisLabOrders.vue?a325"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","id","class","_normalizeClass","showFull","_renderSlot","$slots","undefined","defineComponent","name","props","type","Boolean","default","__exports__","LabOrderService","AppEncounterService","constructor","patientID","providerID","super","emits","config","Object","preset","label","value","defaultValue","Function","fdata","required","cdata","clear","Number","options","activationState","String","onValue","onValueUpdate","footerButtonEvent","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","key","_hoisted_4","_hoisted_5","_hoisted_6","style","background","height","_hoisted_7","_hoisted_8","_component_ion_title","_resolveComponent","_component_ion_icon","_component_ion_input","_component_ion_toolbar","_component_ion_header","_component_ion_label","_component_ion_checkbox","_component_ion_item","_component_ion_list","_component_ion_col","_component_ion_radio","_component_ion_radio_group","_component_ion_text","_component_BarcodeInput","_component_ion_button","_component_ion_row","_component_ion_grid","_component_his_keyboard","_component_ion_content","_component_ion_footer","_Fragment","_createVNode","_withCtx","_createTextVNode","_","size","slot","icon","searchIcon","color","searchColor","readonly","searchFilter","disabled","activeIndex","isOrderComplete","onClick","showKeyboard","placeholder","overflowY","_renderList","testTypesOnDisplay","data","_createBlock","detail","_toDisplayString","checked","isChecked","onIonChange","e","onSelectTest","selectedOrders","length","extendedLabsEnabled","_createCommentVNode","modelValue","testTypes","$event","specimens","addSpecimen","dbsBarcodeActivated","accessionNumber","onOnScan","barcode","onScanEIDbarcode","testReasons","finalOrders","index","specimen","reason","removeOrder","kbConfig","keyboardLayout","onKeyPress","onFilter","postActivities","closeModal","activities","testFilters","Array","title","watch","handler","this","appActivities","getActivities","immediate","ART_GLOBAL_PROP","extendedLabEnabled","canScanDBS","methods","text","handleVirtualInput","verifyingBarcode","loadingController","create","message","present","toastWarning","getTop","then","v","dismiss","OrderService","accessionNumExists","toastDanger","testName","event","target","getSpecimens","tests","getTestTypes","vlIndex","findIndex","viralLoad","splice","sorted","sort","a","b","toUpperCase","filter","t","isArray","includes","map","test","concept_id","$route","params","patient_id","orders","parseInt","encounter","createEncounter","formattedOrders","buildLabOrders","d","saveOrdersArray","encounter_id","Store","invalidate","canPrintOrders","alertConfirmation","confirmBtnLabel","cancelBtnLabel","printOrders","modalController","p","PrintoutService","forEach","async","url","element","order_id","printLbl","computed","search","fuse","Fuse","threshold","keys","useExtendedSearch","i","item","_this$testTypes$this$","_this$testTypes$this$2","reasons","match","r","concat","mounted","QWERTY","content","components","IonButton","IonContent","IonHeader","IonTitle","IonInput","IonToolbar","IonLabel","IonList","IonItem","BarcodeInput","IonCheckbox","IonRadioGroup","IonRow","HisKeyboard","IonIcon","_component_view_port","rows","fill","printOrder","accession_number","test_name","ordered","result","released","_normalizeStyle","result_given","ViewPort","mixins","FieldMixinVue","HisDate","$emit","items","other","values","o","toStandardHisDisplayFormat","_this$config","ok","formatOrders","rawOrders","order_date","filters","modal","component","LabOrderModal","backdropDismiss","cssClass","componentProps","onDidDismiss","isEmpty","init","activated"],"mappings":"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","file":"js/TouchFormElement31.98d72946.js","sourcesContent":["import { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: \"view-port\",\n    class: _normalizeClass(!_ctx.showFull ? 'half': '')\n  }, [\n    _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n  ], 2))\n}","\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n    name: 'ViewPort',\n    props: {\n        showFull: {\n            type: Boolean,\n            default: () => true\n        }\n    }\n})\n","import { render } from \"./ViewPort.vue?vue&type=template&id=7c293cad&scoped=true&ts=true\"\nimport script from \"./ViewPort.vue?vue&type=script&lang=ts\"\nexport * from \"./ViewPort.vue?vue&type=script&lang=ts\"\n\nimport \"./ViewPort.vue?vue&type=style&index=0&id=7c293cad&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c293cad\"]])\n\nexport default __exports__","import { AppEncounterService } from \"@/services/app_encounter_service\";\nexport class LabOrderService extends AppEncounterService {\n  constructor(patientID: number, providerID: number) {\n    super(patientID, 57, providerID);\n  }\n}","\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n    emits: [\n        'onValue',\n        'onFieldActivated'\n    ],\n    props: {\n        config: {\n            type: Object,\n            default: () => ({})\n        },\n        preset: {\n            type: Object,\n            default: () => ({\n                label: '',\n                value: ''\n            })\n        },\n        defaultValue: {\n            type: Function\n        },\n        fdata: {\n            type: Object,\n            required: true\n        },\n        cdata: {\n            type: Object,\n            required: true\n        },\n        clear: {\n            type: Number,\n            required: true\n        },\n        options: {\n            type: Function,\n            default: () => ([])\n        },\n        activationState: {\n            type: String,\n            default: ''\n        },\n        onValue: {\n            type: Function\n        },\n        onValueUpdate: {\n            type: Function\n        },\n        footerButtonEvent: {\n            type: Object\n        }\n    }\n})\n","import script from \"./FieldMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./FieldMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ViewPort.vue?vue&type=style&index=0&id=7c293cad&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HisLabOrders.vue?vue&type=style&index=0&id=356b70ce&scoped=true&lang=css\"","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0c153037\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ion-margin-bottom\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"his-md-text side-title\" }, \" Select specimen \", -1))\nconst _hoisted_3 = { key: 1 }\nconst _hoisted_4 = { class: \"his-md-text side-title\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"his-md-text side-title\" }, \" Main test(s) reason \", -1))\nconst _hoisted_6 = { style: {background: 'lightyellow', height: '34vh'} }\nconst _hoisted_7 = { class: \"his-sm-text\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", null, [\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Test\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Specimen\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Reason\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Action\")\n  ])\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n  const _component_ion_input = _resolveComponent(\"ion-input\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_checkbox = _resolveComponent(\"ion-checkbox\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_list = _resolveComponent(\"ion-list\")!\n  const _component_ion_col = _resolveComponent(\"ion-col\")!\n  const _component_ion_radio = _resolveComponent(\"ion-radio\")!\n  const _component_ion_radio_group = _resolveComponent(\"ion-radio-group\")!\n  const _component_ion_text = _resolveComponent(\"ion-text\")!\n  const _component_BarcodeInput = _resolveComponent(\"BarcodeInput\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_row = _resolveComponent(\"ion-row\")!\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")!\n  const _component_his_keyboard = _resolveComponent(\"his-keyboard\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_title, { class: \"his-lg-text\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Lab orders \")\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_icon, {\n              size: \"large\",\n              slot: \"end\",\n              icon: _ctx.searchIcon,\n              color: _ctx.searchColor\n            }, null, 8, [\"icon\", \"color\"]),\n            _createVNode(_component_ion_input, {\n              readonly: true,\n              value: _ctx.searchFilter,\n              disabled: _ctx.activeIndex && !_ctx.isOrderComplete,\n              color: _ctx.searchColor,\n              onClick: _cache[0] || (_cache[0] = () => _ctx.showKeyboard=_ctx.showKeyboard ? false : true),\n              placeholder: \"Search for tests\",\n              style: {\"text-align\":\"left\"},\n              class: \"input_display\",\n              slot: \"end\"\n            }, null, 8, [\"value\", \"disabled\", \"color\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, { style: {\"overflow\":\"hidden\",\"background\":\"grey\",\"height\":\"70vh\"} }, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_grid, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_row, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_ion_col, { size: \"6\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_ion_list, { style: {overflowY: 'auto', height:'75vh'} }, {\n                      default: _withCtx(() => [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.testTypesOnDisplay, (data) => {\n                          return (_openBlock(), _createBlock(_component_ion_item, {\n                            class: \"his-sm-text\",\n                            key: data.id,\n                            disabled: _ctx.activeIndex != null && _ctx.activeIndex !== data.id && !_ctx.isOrderComplete,\n                            detail: \"\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_ion_label, { \"text-wrap\": \"\" }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(data.name), 1)\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_ion_checkbox, {\n                                slot: \"start\",\n                                checked: data.isChecked,\n                                onIonChange: (e) => _ctx.onSelectTest(data.name, data.id, e)\n                              }, null, 8, [\"checked\", \"onIonChange\"])\n                            ]),\n                            _: 2\n                          }, 1032, [\"disabled\"]))\n                        }), 128))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                (_ctx.activeIndex != null && _ctx.selectedOrders.length > 0)\n                  ? (_openBlock(), _createBlock(_component_ion_col, {\n                      key: 0,\n                      style: {overflowY: 'auto', height:'79vh'}\n                    }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_1, [\n                          (!_ctx.extendedLabsEnabled)\n                            ? (_openBlock(), _createBlock(_component_ion_list, { key: 0 }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_ion_radio_group, {\n                                    modelValue: _ctx.testTypes[_ctx.activeIndex]['specimen'],\n                                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.testTypes[_ctx.activeIndex]['specimen']) = $event))\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _hoisted_2,\n                                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.specimens, (data) => {\n                                        return (_openBlock(), _createBlock(_component_ion_item, { key: data }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_ion_label, null, {\n                                              default: _withCtx(() => [\n                                                _createTextVNode(_toDisplayString(data.name), 1)\n                                              ]),\n                                              _: 2\n                                            }, 1024),\n                                            _createVNode(_component_ion_radio, {\n                                              slot: \"start\",\n                                              value: data.name,\n                                              onClick: ($event: any) => (_ctx.addSpecimen(data))\n                                            }, null, 8, [\"value\", \"onClick\"])\n                                          ]),\n                                          _: 2\n                                        }, 1024))\n                                      }), 128))\n                                    ]),\n                                    _: 1\n                                  }, 8, [\"modelValue\"])\n                                ]),\n                                _: 1\n                              }))\n                            : _createCommentVNode(\"\", true),\n                          (_ctx.dbsBarcodeActivated)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                                _createElementVNode(\"div\", _hoisted_4, [\n                                  _createTextVNode(\" Barcode ID: \"),\n                                  _createVNode(_component_ion_text, {\n                                    color: _ctx.testTypes[_ctx.activeIndex].accessionNumber ? 'success' : 'dark'\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"b\", null, _toDisplayString(_ctx.testTypes[_ctx.activeIndex].accessionNumber || 'None'), 1)\n                                    ]),\n                                    _: 1\n                                  }, 8, [\"color\"])\n                                ]),\n                                _createVNode(_component_BarcodeInput, {\n                                  size: \"small\",\n                                  onOnScan: _cache[2] || (_cache[2] = (barcode) => _ctx.onScanEIDbarcode(barcode))\n                                })\n                              ]))\n                            : _createCommentVNode(\"\", true),\n                          _createVNode(_component_ion_radio_group, {\n                            modelValue: _ctx.testTypes[_ctx.activeIndex]['reason'],\n                            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.testTypes[_ctx.activeIndex]['reason']) = $event))\n                          }, {\n                            default: _withCtx(() => [\n                              _hoisted_5,\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.testReasons, (data) => {\n                                return (_openBlock(), _createBlock(_component_ion_item, {\n                                  class: \"his-sm-text\",\n                                  key: data\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_ion_label, null, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(data), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_ion_radio, {\n                                      slot: \"start\",\n                                      value: data\n                                    }, null, 8, [\"value\"])\n                                  ]),\n                                  _: 2\n                                }, 1024))\n                              }), 128))\n                            ]),\n                            _: 1\n                          }, 8, [\"modelValue\"])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_6, [\n                          _createElementVNode(\"table\", _hoisted_7, [\n                            _hoisted_8,\n                            _createElementVNode(\"tbody\", null, [\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.finalOrders, (data, index) => {\n                                return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                                  _createElementVNode(\"td\", null, _toDisplayString(data.name), 1),\n                                  _createElementVNode(\"td\", null, _toDisplayString(data.specimen || 'N/A'), 1),\n                                  _createElementVNode(\"td\", null, _toDisplayString(data.reason), 1),\n                                  _createElementVNode(\"td\", null, [\n                                    _createVNode(_component_ion_button, {\n                                      onClick: ($event: any) => (_ctx.removeOrder(data.id)),\n                                      slot: \"end\",\n                                      color: \"danger\"\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(\"X\")\n                                      ]),\n                                      _: 2\n                                    }, 1032, [\"onClick\"])\n                                  ])\n                                ]))\n                              }), 128))\n                            ])\n                          ])\n                        ])\n                      ]),\n                      _: 1\n                    }))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        (_ctx.showKeyboard)\n          ? (_openBlock(), _createBlock(_component_his_keyboard, {\n              key: 0,\n              kbConfig: _ctx.keyboardLayout,\n              onKeyPress: _ctx.onFilter,\n              disabled: false\n            }, null, 8, [\"kbConfig\", \"onKeyPress\"]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.postActivities,\n              size: \"large\",\n              slot: \"end\",\n              disabled: _ctx.finalOrders.length === 0\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Place orders \")\n              ]),\n              _: 1\n            }, 8, [\"onClick\", \"disabled\"]),\n            _createVNode(_component_ion_button, {\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.closeModal([]))),\n              size: \"large\",\n              slot: \"start\",\n              color: \"danger\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Close \")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64))\n}","\nimport {\n  IonContent,\n  IonButton,\n  IonInput,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonLabel,\n  modalController,\n  IonList,\n  IonItem,\n  IonCheckbox,\n  IonRadioGroup,\n  IonRow,\n  IonIcon,\n  loadingController,\n} from \"@ionic/vue\";\nimport { search } from \"ionicons/icons\"\nimport { defineComponent, PropType } from \"vue\";\nimport { alertConfirmation, toastDanger, toastWarning } from \"@/utils/Alerts\"\nimport { ActivityInterface } from \"@/apps/interfaces/AppInterface\"\nimport { OrderService } from \"@/services/order_service\";\nimport { LabOrderService } from \"@/apps/ART/services/lab_order_service\";\nimport { PrintoutService } from \"@/services/printout_service\";\nimport ART_GLOBAL_PROP from \"@/apps/ART/art_global_props\"\nimport Store from \"@/composables/ApiStore\"\nimport { QWERTY } from \"@/components/Keyboard/HisKbConfigurations\"\nimport { findIndex } from \"lodash\";\nimport BarcodeInput from \"@/components/BarcodeInput.vue\"\nimport HisKeyboard from \"@/components/Keyboard/HisKeyboard.vue\"\nimport handleVirtualInput from \"@/components/Keyboard/KbHandler\"\nimport Fuse from \"fuse.js\";\n\nexport default defineComponent({\n  name: \"Modal\",\n  props: {\n    activities: {\n      type: Object as PropType<ActivityInterface[]>,\n      required: true\n    },\n    testFilters: {\n      type: Array    \n    },\n    title: {\n      type: String, \n      default: \"\"\n    },\n  },\n  watch: {\n    activities: {\n      handler(activities: Array<ActivityInterface>){\n        if (activities) {\n          this.appActivities = [...activities]\n          this.getActivities();\n        }\n      },\n      immediate: true\n    }\n  },\n  async created() {\n    this.extendedLabsEnabled = await ART_GLOBAL_PROP.extendedLabEnabled()\n    this.canScanDBS = await ART_GLOBAL_PROP.canScanDBS()\n  },\n  methods: {\n    onFilter(text: any) {\n      this.searchFilter = handleVirtualInput(text, this.searchFilter)\n    },\n    async onScanEIDbarcode(barcode: string) {\n      this.verifyingBarcode = !this.verifyingBarcode;\n      if (this.verifyingBarcode) return\n      (await loadingController.create({ message: `Checking ${barcode}`})).present()\n      this.testTypes[this.activeIndex]['accessionNumber'] = null\n      // // Expected barcode examples: L5728043 or 57280438\n      // const barcodeOk = /^([A-Z]{1})?[0-9]{7,8}$/i.test(`${barcode}`.trim())\n      if (`${barcode||''}`.length <= 0) {\n        toastWarning(\"Barcode is required\")\n        this.verifyingBarcode = false\n        loadingController.getTop().then(v => v && loadingController.dismiss())\n        return ;\n      }\n      /**\n       * Verify with API if barcode was already used:\n      */\n      try {\n        if (!(await OrderService.accessionNumExists(barcode))) {\n          this.testTypes[this.activeIndex]['accessionNumber'] = barcode\n        } else {\n          toastWarning(`Barcode ${barcode} was already used`)\n        }\n      } catch (e) {\n        toastDanger(\"Failed to confirm barcode \" + barcode + \", Please try again later\", 8000)  \n      }\n      this.verifyingBarcode = false\n      loadingController.getTop().then(v => v && loadingController.dismiss())\n    },\n    async onSelectTest(testName: string, index: number, event: any) {\n      this.searchFilter = ''\n      this.showKeyboard = false\n      this.testTypes[index]['isChecked'] = event.target.checked;\n      if(this.testTypes[index]['isChecked']){\n          this.activeIndex = index;\n          this.specimens = await OrderService.getSpecimens(testName);\n      } else {\n          this.removeOrder(index)\n      }\n    },\n    async getActivities() {\n      const tests: Array<any> = await OrderService.getTestTypes();\n      const vlIndex = findIndex(tests, {name: \"HIV viral load\"})\n      const viralLoad = vlIndex !== -1 ? tests.splice(vlIndex, 1) : null;\n      const sorted = tests.sort((a: any, b: any) => `${a.name}`.toUpperCase() > `${b.name}`.toUpperCase() ? 1: -1)\n        .filter((t: any) => Array.isArray(this.testFilters) ? this.testFilters.includes(t.name) : true)\n      this.testTypes = (viralLoad ? [...viralLoad, ...sorted] : sorted).map((test, id) => ({...test, id}))\n    },\n    removeOrder(index: number) {\n      this.testTypes[index]['isChecked'] = false;\n      this.testTypes[index]['reason'] = null;\n      this.testTypes[index]['specimen'] = null;\n      this.testTypes[index]['specimenConcept'] = null\n      this.testTypes[index]['accessionNumber'] = null\n      this.activeIndex = null\n      this.specimens = []\n    },\n    addSpecimen(data: any) {\n      this.testTypes[this.activeIndex]['specimenConcept'] = data.concept_id;\n    },\n    async postActivities() {\n      const patientID= `${this.$route.params.patient_id}`;\n      const orders = new LabOrderService(parseInt(patientID), -1); //TODO: get selected provider for this encounter\n      const encounter = await orders.createEncounter();\n\n      if(encounter) {\n        const formattedOrders = await OrderService.buildLabOrders(encounter, this.finalOrders);\n        const d =await  OrderService.saveOrdersArray(encounter.encounter_id, formattedOrders);\n        \n        if(!d) return toastWarning('Unable to save lab orders')\n\n        Store.invalidate('PATIENT_LAB_ORDERS')\n        const canPrintOrders = await alertConfirmation('Lab orders and encounter created!, print out your last orders?', { \n          confirmBtnLabel: 'Yes',\n          cancelBtnLabel: 'No'\n        })\n        if(canPrintOrders) await this.printOrders(d)\n        else await this.closeModal(d)\n      }\n    },\n    async closeModal(orders: []) {\n      await modalController.dismiss(orders)\n    },\n    async printOrders(orders: any) {\n      const p = new PrintoutService();\n      await orders.forEach(async (element: any) => {\n        const url = `lab/labels/order?order_id=${element.order_id}`\n        await p.printLbl(url);\n      });\n      await modalController.dismiss(orders)\n    },\n  },\n  computed: {\n    searchIcon() {\n      return search\n    },\n    searchColor(): string {\n      return this.showKeyboard ? 'primary' : 'dark'\n    },\n    testTypesOnDisplay(): any[] {\n      if (this.searchFilter) {\n        const fuse = new Fuse(this.testTypes, {\n            threshold: 0.3,\n            keys: ['name'],\n            useExtendedSearch: true\n        })\n        return fuse.search(this.searchFilter).map((i: any) => i.item)\n      }\n      return this.testTypes\n    },\n    dbsBarcodeActivated(): boolean {\n      return this.canScanDBS && \n        /dbs/i.test(`${this.testTypes[this.activeIndex]?.specimen}`) &&\n        /hiv viral load/i.test(`${this.testTypes[this.activeIndex]?.name}`)\n    },\n    isOrderComplete(): boolean {\n      if (typeof this.activeIndex != 'number') {\n        return false\n      }\n      if (this.dbsBarcodeActivated && !this.testTypes[this.activeIndex]['accessionNumber']) {\n        return false\n      }\n      if(this.extendedLabsEnabled){\n        return !!this.testTypes[this.activeIndex]['reason'] \n      }\n      return (this.testTypes[this.activeIndex]['specimenConcept'] || this.testTypes[this.activeIndex]['specimen']) \n        && this.testTypes[this.activeIndex]['reason']\n    },\n    selectedOrders(): any {\n      return this.testTypes.filter((data: any) => data.isChecked === true);\n    },\n    finalOrders(): any {\n      return this.selectedOrders.filter((data: any) => {\n        if (this.dbsBarcodeActivated && !data.accessionNumber) {\n          return false\n        }\n        return data.reason && (data.specimen && !this.extendedLabsEnabled \n          || this.extendedLabsEnabled)\n      })\n    },\n    testReasons(): Array<string> {\n      let reasons = this.reasons;\n      if (this.testTypes[this.activeIndex].name.match(/Viral load/i)) {\n         reasons = reasons.filter((r: string) => r !== 'Stat')\n         reasons = reasons.concat(['Follow up after Low Level Viremia', 'Follow up after High Viral Load'])\n      }\n      return reasons    \n    }\n  },\n  mounted() {\n    this.getActivities();\n  },\n  data() {\n    return {\n      searchFilter: '',\n      showKeyboard: false,\n      keyboardLayout: QWERTY,\n      canScanDBS: false,\n      verifyingBarcode: false,\n      content: \"Content\",\n      extendedLabsEnabled: false as boolean,\n      appActivities: [] as Array<ActivityInterface>,\n      testTypes: [] as any,\n      specimens: [],\n      reasons: ['Routine', 'Targeted', 'Confirmatory', 'Stat', 'Repeat / Missing'],\n      activeIndex: null as any\n    };\n  },\n  components: {\n    IonButton,\n    IonContent,\n    IonHeader,\n    IonTitle,\n    IonInput,\n    IonToolbar,\n    IonLabel,\n    IonList,\n    IonItem,\n    BarcodeInput,\n    IonCheckbox,\n    IonRadioGroup,\n    IonRow,\n    HisKeyboard,\n    IonIcon\n  },\n});\n","import { render } from \"./LabOrderModal.vue?vue&type=template&id=0c153037&scoped=true&ts=true\"\nimport script from \"./LabOrderModal.vue?vue&type=script&lang=ts\"\nexport * from \"./LabOrderModal.vue?vue&type=script&lang=ts\"\n\nimport \"./LabOrderModal.vue?vue&type=style&index=0&id=0c153037&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0c153037\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LabOrderModal.vue?vue&type=style&index=0&id=0c153037&scoped=true&lang=css\"","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-356b70ce\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"view-port-content\" }\nconst _hoisted_2 = { class: \"his-sm-text\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"tr\", null, [\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Accession #\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Test Name\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Specimen\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Ordered\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Result\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Released\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Given\")\n], -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_view_port = _resolveComponent(\"view-port\")!\n\n  return (_openBlock(), _createBlock(_component_view_port, null, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"table\", _hoisted_2, [\n          _hoisted_3,\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.rows, (data, index) => {\n            return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n              _createElementVNode(\"td\", null, [\n                _createVNode(_component_ion_button, {\n                  color: \"light\",\n                  fill: \"none\",\n                  onClick: ($event: any) => (_ctx.printOrder(data))\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(data.accession_number), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"onClick\"])\n              ]),\n              _createElementVNode(\"td\", null, _toDisplayString(data.test_name), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(data.specimen), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(data.ordered), 1),\n              _createElementVNode(\"td\", null, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(data.result, (d, i) => {\n                  return (_openBlock(), _createElementBlock(\"span\", { key: i }, [\n                    _createTextVNode(_toDisplayString(d) + \" \", 1),\n                    _hoisted_4\n                  ]))\n                }), 128))\n              ]),\n              _createElementVNode(\"td\", null, _toDisplayString(data.released), 1),\n              _createElementVNode(\"td\", null, [\n                _createElementVNode(\"span\", {\n                  style: _normalizeStyle(`color: ${data.result_given === 'Yes' ? 'green;' : 'black;'}`)\n                }, _toDisplayString(data.result_given), 5)\n              ])\n            ]))\n          }), 128))\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent } from \"vue\";\nimport ViewPort from \"@/components/DataViews/ViewPort.vue\";\nimport { modalController } from \"@ionic/vue\";\nimport LabOrderModal from \"@/components/DataViews/LabOrderModal.vue\"\nimport { isEmpty } from \"lodash\";\nimport FieldMixinVue from \"./FieldMixin.vue\";\nimport HisDate from \"@/utils/Date\"\nimport { IonButton } from \"@ionic/vue\"\nimport { alertConfirmation } from \"@/utils/Alerts\";\nexport default defineComponent({\n  components: { ViewPort, IonButton },\n  mixins: [FieldMixinVue],\n  data: () => ({\n    HisDate,\n    rows: [] as Array<any>,\n  }),\n  methods: {\n    async init() {\n      this.$emit('onFieldActivated', this)\n        const items = await this.options(this.fdata);\n        const rows = items[0].other.values;\n        this.rows = rows.map((o: any) => {\n          o.id = o.order_id\n          if (o.ordered) {\n            o.ordered = HisDate.toStandardHisDisplayFormat(o.ordered)\n          }\n          if (o.released) {\n            o.released = HisDate.toStandardHisDisplayFormat(o.released)\n          }\n          return o\n      })\n    },\n    async printOrder(data: any) {\n      if (typeof this.config?.printOrder === 'function') {\n        const ok = await alertConfirmation(`Do you want to print order with accession number ${data.accession_number}?`)\n        if (ok) this.config.printOrder(data.id)\n      }\n    },\n    formatOrders(rawOrders: Array<any>) {\n      return rawOrders.map((d: any) => ({\n          'id': d.order_id,\n          'encounter_id': d.encounter_id,\n          'result_given': d.result_given,\n          'accession_number': d.accession_number,\n          'test_name': d.tests[0].name,\n          'specimen': d.specimen.name,\n          'ordered': HisDate.toStandardHisDisplayFormat(d.order_date),\n          'result': [],\n          'release': ''\n      }))\n    },\n    async launchOrderSelection(filters=null) {\n      const modal = await modalController.create({\n        component: LabOrderModal,\n        backdropDismiss: false,\n        cssClass: 'large-modal',\n        componentProps: {\n          testFilters: filters\n        }\n      })\n      modal.present()\n      const { data } = await modal.onDidDismiss()\n      if (!isEmpty(data)) {\n        this.rows = [...this.formatOrders(data), ...this.rows]\n      }\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  activated() {\n   this.init()\n  }\n})\n","import { render } from \"./HisLabOrders.vue?vue&type=template&id=356b70ce&scoped=true&ts=true\"\nimport script from \"./HisLabOrders.vue?vue&type=script&lang=ts\"\nexport * from \"./HisLabOrders.vue?vue&type=script&lang=ts\"\n\nimport \"./HisLabOrders.vue?vue&type=style&index=0&id=356b70ce&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-356b70ce\"]])\n\nexport default __exports__"],"sourceRoot":""}