(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2899cf11"],{"10be":function(e,t,n){"use strict";var o=n("7a23");const l={class:"keypad"};function c(e,t,n,c,r,a){const i=Object(o["resolveComponent"])("ion-input"),s=Object(o["resolveComponent"])("ion-chip"),d=Object(o["resolveComponent"])("center"),u=Object(o["resolveComponent"])("base-keyboard"),b=Object(o["resolveComponent"])("ion-content");return Object(o["openBlock"])(),Object(o["createBlock"])(b,null,{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",l,[Object(o["createVNode"])(i,{value:e.value,disabled:!0,class:"keypad-input"},null,8,["value"]),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title||"keypad"),1)]),_:1})]),_:1}),Object(o["createVNode"])(u,{btnSize:"96px",layout:e.keypad,onKeyPress:e.keypress},null,8,["layout","onKeyPress"])])]),_:1})}var r=n("c924"),a=n("3800"),i=n("2345"),s=n("fe70"),d=Object(o["defineComponent"])({components:{BaseKeyboard:r["a"]},props:{title:{type:String},preset:{type:String},onKeyPress:{type:Function,required:!0},strictNumbers:{type:Boolean,default:!1}},data:()=>({value:"0",keypad:a["d"]}),watch:{preset:{handler(e){e&&(this.value=e.toString())},immediate:!0}},methods:{async keypress(e){if(e.match(/done/i))await s["b"].dismiss(this.value);else if(this.strictNumbers){if(e.includes(".")&&this.value.includes("."))return;e.includes(".")||"0"!==this.value||(this.value=""),this.value=Object(i["a"])(e,this.value),this.value||(this.value="0"),""+parseInt(this.value)===this.value?this.onKeyPress(parseInt(this.value)):this.onKeyPress(this.value)}else this.value=Object(i["a"])(e,this.value),this.onKeyPress(this.value)}}}),u=(n("27f1"),n("6b0d")),b=n.n(u);const m=b()(d,[["render",c],["__scopeId","data-v-7454247c"]]);t["a"]=m},2048:function(e,t,n){"use strict";var o=n("7a23");function l(e,t,n,l,c,r){const a=Object(o["resolveComponent"])("v2Datatable"),i=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(i,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(a,{title:e.title,subtitle:e.subtitle,columnData:e.reportData,columns:e.columns,"on-finish":e.onFinish,rowsPerPage:e.ITEMS_PER_PAGE},null,8,["title","subtitle","columnData","columns","on-finish","rowsPerPage"])]),_:1})}n("14d9");var c=n("d867"),r=n("99ae"),a=n("6605"),i=n("2ef0"),s=n("8734"),d=n("23e6"),u=n("0011");const b=20;var m=Object(o["defineComponent"])({props:{title:{type:String,default:"Drilldown"},patientIdentifiers:{type:Object},onFinish:{type:Function}},components:{IonPage:c["IonPage"],v2Datatable:r["a"]},setup(e){const t=Object(o["ref"])("-"),n=Object(o["ref"])([]),l=Object(a["i"])(),c=[[{label:"National ID",ref:"national_id"},{label:"First name",ref:"given_name"},{label:"Last name",ref:"family_name"},{label:"Birthdate",ref:"birthdate"},{label:"Action",ref:"patient_id",exportable:!1,tdClick:({data:e})=>l.push({path:"/patient/dashboard/"+e.patient_id}),value:()=>"View client"}]];return Object(o["watch"])(()=>e.patientIdentifiers,async e=>{if(n.value=[],t.value="Total: 0",!e||!e.length)return;const o=Object(i["chunk"])(e,b);for(const c of o){for(const o of c){try{const e=new d["a"](await d["a"].findByID(o));n.value.push({patient_id:e.getID(),national_id:e.getNationalID(),given_name:e.getGivenName(),family_name:e.getFamilyName(),birthdate:Object(u["h"])(e.getBirthdate())})}catch(l){console.error(l),n.value.push({})}t.value=`Total: ${n.value.length} of ${(e||[]).length}`}await Object(s["a"])(500)}},{immediate:!0}),{columns:c,subtitle:t,reportData:n,ITEMS_PER_PAGE:b}}}),p=n("6b0d"),O=n.n(p);const T=O()(m,[["render",l]]);t["a"]=T},"27f1":function(e,t,n){"use strict";n("a3fb")},7322:function(e,t,n){"use strict";var o,l;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),function(e){e["Documents"]="DOCUMENTS",e["Data"]="DATA",e["Library"]="LIBRARY",e["Cache"]="CACHE",e["External"]="EXTERNAL",e["ExternalStorage"]="EXTERNAL_STORAGE"}(o||(o={})),function(e){e["UTF8"]="utf8",e["ASCII"]="ascii",e["UTF16"]="utf16"}(l||(l={}))},"8d45":function(e,t,n){"use strict";n("f28a")},"99ae":function(e,t,n){"use strict";var o=n("7a23");const l={key:0},c={class:"his-sm-text"},r={class:"art-report-theme"},a={class:"stick-report-header"},i=["colspan","rowspan","onClick"],s=["onClick"],d={class:"his-sm-text"};function u(e,t,n,u,b,m){const p=Object(o["resolveComponent"])("ion-img"),O=Object(o["resolveComponent"])("ion-thumbnail"),T=Object(o["resolveComponent"])("ion-title"),j=Object(o["resolveComponent"])("ion-icon"),h=Object(o["resolveComponent"])("ion-button"),E=Object(o["resolveComponent"])("ion-label"),f=Object(o["resolveComponent"])("ion-chip"),N=Object(o["resolveComponent"])("ion-buttons"),_=Object(o["resolveComponent"])("ion-toolbar"),v=Object(o["resolveComponent"])("ion-header"),V=Object(o["resolveComponent"])("ion-item"),C=Object(o["resolveComponent"])("ion-content"),g=Object(o["resolveComponent"])("his-keyboard"),y=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,null,{default:Object(o["withCtx"])(()=>[e.iconUrl?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:0,slot:"start"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,{src:e.iconUrl},null,8,["src"])]),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(T,{slot:"start",class:"his-md-text"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title)+" ",1),e.subtitle?(Object(o["openBlock"])(),Object(o["createElementBlock"])("br",l)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",c,Object(o["toDisplayString"])(e.subtitle),1)]),_:1}),Object(o["createVNode"])(N,{slot:"end"},{default:Object(o["withCtx"])(()=>["function"===typeof e.onConfigure?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,onClick:e.onConfigure},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{size:"large",icon:e.funnelOutline},null,8,["icon"])]),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0),e.searchTerm?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:1,onClick:t[0]||(t[0]=()=>{e.searchTerm="",e.showSearchKeyboard=!1}),class:"his-md-text",color:"primary"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(E,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.searchTerm?"Search: "+e.searchTerm:""),1)]),_:1}),Object(o["createVNode"])(j,{icon:e.close},null,8,["icon"])]),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(h,{color:e.showSearchKeyboard?"primary":"dark",onClick:t[1]||(t[1]=()=>e.showSearchKeyboard=!e.showSearchKeyboard),size:"large"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{size:"large",icon:e.search},null,8,["icon"])]),_:1},8,["color"]),"function"===typeof e.onRefresh?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:2,onClick:e.onRefresh,color:"success",size:"large"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{size:"large",icon:e.sync},null,8,["icon"])]),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(C,{"scroll-y":"","scroll-x":""},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("table",r,[Object(o["createElementVNode"])("thead",a,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.columns,(t,n)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:n},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t,(t,n)=>{var l,c;return Object(o["openBlock"])(),Object(o["createElementBlock"])("th",{key:n,colspan:(null===t||void 0===t||null===(l=t.span)||void 0===l?void 0:l.thColspan)||1,rowspan:(null===t||void 0===t||null===(c=t.span)||void 0===c?void 0:c.thRowspan)||1,onClick:n=>e.sortColumn(t.ref)},[Object(o["createVNode"])(V,{lines:"none"},{default:Object(o["withCtx"])(()=>[e.columnSorted&&e.columnSorted===t.ref?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,icon:"asc"===e.sortOrder?e.arrowUp:e.arrowDown},null,8,["icon"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(E,{class:"ion-text-center"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(t.label),1)]),_:2},1024)]),_:2},1024)],8,i)}),128))]))),128))]),Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.page,(t,n)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:n},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.row,(t,n)=>{var l;return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{key:n,onClick:()=>e.onClickTablecell(t),class:Object(o["normalizeClass"])({"clickable-cell":null===t||void 0===t||null===(l=t.column)||void 0===l?void 0:l.tdClick})},[Object(o["createElementVNode"])("span",d,Object(o["toDisplayString"])(t.value),1)],10,s)}),128))]))),128))])])]),_:1}),Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])(()=>[e.showSearchKeyboard?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,kbConfig:e.QWERTY,onKeyPress:e.filterTable},null,8,["kbConfig","onKeyPress"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(_,{color:"dark"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(h,{onClick:t[2]||(t[2]=t=>e.toCSV()),size:"large"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" CSV ")]),_:1}),Object(o["createVNode"])(h,{onClick:t[3]||(t[3]=t=>e.toPDF()),size:"large"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" PDF ")]),_:1}),e.totalPages>1?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,onClick:e.first,disabled:0===e.currentPage||e.totalPages<=2,size:"large",slot:"end"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" First ")]),_:1},8,["onClick","disabled"])):Object(o["createCommentVNode"])("",!0),e.totalPages>1?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:1,onClick:e.prev,disabled:!e.canPrev,color:"light",size:"large",slot:"end"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Prev ")]),_:1},8,["onClick","disabled"])):Object(o["createCommentVNode"])("",!0),e.totalPages>1?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:2,onClick:e.selectPage,size:"large",slot:"end",color:"light"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.currentPage)+" / "+Object(o["toDisplayString"])(e.totalPages-1),1)]),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0),e.totalPages>1?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:3,onClick:e.next,disabled:!e.canNext,color:"light",size:"large",slot:"end"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Next ")]),_:1},8,["onClick","disabled"])):Object(o["createCommentVNode"])("",!0),e.totalPages>1?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:4,onClick:e.last,disabled:e.currentPage+1>=e.totalPages||e.totalPages<=2,size:"large",slot:"end"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Last ")]),_:1},8,["onClick","disabled"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(h,{onClick:e.finish,color:"success",size:"large",slot:"end"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Finish ")]),_:1},8,["onClick"])]),_:1})]),_:1})],64)}n("14d9"),n("13d5");var b=n("d867"),m=n("ff79"),p=n("2ef0"),O=n("017e"),T=n("c731"),j=n("6062"),h=n("ba82"),E=n("1c74"),f=n("6605"),N=n("5a0c"),_=n.n(N),v=n("0011"),V=n("db10"),C=n("6be2"),g=n("2345"),y=Object(o["defineComponent"])({components:{IonToolbar:b["IonToolbar"],IonItem:b["IonItem"],IonIcon:b["IonIcon"],IonLabel:b["IonLabel"],IonTitle:b["IonTitle"],IonHeader:b["IonHeader"],IonButton:b["IonButton"],IonFooter:b["IonFooter"],IonContent:b["IonContent"],IonButtons:b["IonButtons"],IonChip:b["IonChip"],HisKeyboard:V["a"],IonThumbnail:b["IonThumbnail"],IonImg:b["IonImg"]},props:{title:{type:String,default:"Report"},iconUrl:{type:String},subtitle:{type:String},columns:{type:Object,required:!0},columnData:{type:Array,default:()=>[]},enablePagination:{type:Boolean,default:!0},rowsPerPage:{type:Number,default:10},onFinish:{type:Function},onRefresh:{type:Function},onConfigure:{type:Function},csvQuarter:{type:String},reportPrefix:{type:String,default:""}},setup(e){const t=Object(f["i"])(),n=Object(o["ref"])([]),l=Object(o["ref"])(0),c=Object(o["ref"])(""),r=Object(o["ref"])(""),a=Object(o["ref"])("desc"),i=Object(o["ref"])(!1),s=Object(o["computed"])(()=>{const t=Object(O["a"])(n.value)[a.value](e=>e.data[r.value]);if(c.value){const n=new j["a"](t,{threshold:.3,keys:["searchIndex"],useExtendedSearch:!0});return n.search(c.value,{limit:e.rowsPerPage}).map(e=>e.item)}return t}),d=Object(o["computed"])(()=>Object(p["chunk"])(s.value,e.rowsPerPage).length),u=Object(o["computed"])(()=>l.value+2<=d.value),b=Object(o["computed"])(()=>l.value>0),N=Object(o["computed"])(()=>{const t=Object(p["chunk"])(s.value,e.rowsPerPage);return t[l.value]}),V=e=>{r.value=e,a.value="asc"===a.value?"desc":"asc"},y=()=>Object(T["c"])(e=>{const t=parseInt(e);parseInt(e)<=d.value&&(l.value=t)},{title:"Select page"}),I=()=>l.value=0,S=()=>l.value=d.value-1||0,w=()=>l.value+=1,x=()=>l.value-=1,k=()=>{"function"===typeof e.onFinish?e.onFinish():t.push("/")},P=e=>{try{var t,n;if("function"===typeof(null===(t=e.column)||void 0===t?void 0:t.tdClick))null===(n=e.column)||void 0===n||n.tdClick(e);return}catch(o){console.error(o)}},D=()=>e.columns.reduce((e,t)=>e.concat(t),[]).filter(e=>e.value||e.ref),F=t=>{var o,l,c;const r=D().filter(e=>[!e.canExport||(null===e||void 0===e?void 0:e.canExport[t]),"boolean"!==typeof e.exportable||e.exportable].every(Boolean)),a=r.map(e=>e.exportedValue&&e.exportedValue.column?e.exportedValue.column(e):e.secondaryLabel||e.label),i=r.map(e=>e.ref),s=n.value.reduce((e,t)=>{const n=t.row.filter(({column:e})=>i.includes(e.ref)).map(e=>e.column.exportedValue&&e.column.exportedValue.dataValue?e.column.exportedValue.dataValue(e):e.value);return[...e,n]},[]),d=`${e.reportPrefix} ${null!==(o=E["e"].getLocationName())&&void 0!==o?o:""} ${Object(v["g"])(e.title).replace(e.reportPrefix,"")} ${Object(v["f"])(null!==(l=null!==(c=e.csvQuarter)&&void 0!==c?c:e.subtitle)&&void 0!==l?l:"")}`;return{headers:a,rows:s,filename:d}},A=()=>{const{headers:e,rows:t,filename:n}=F("pdf");Object(h["c"])([e],t,n,!0)},R=()=>{const{headers:t,rows:n,filename:o}=F("csv");Object(h["a"])([t],[...n,["Date Created: "+_()().format("DD/MMM/YYYY HH:MM:ss")],["Quarter: "+(e.csvQuarter||e.subtitle)],["HIS-Core Version: "+E["e"].getCoreVersion()],["API Version: "+E["e"].getApiVersion()],["Site UUID: "+E["e"].getSiteUUID()],["Generated by: "+E["e"].getUserName()]],o)},B=e=>{c.value=Object(g["a"])(e,c.value),l.value=0},L=e=>{e.forEach(e=>{const t=D().map(t=>{let n="";const o=e[t.ref];try{n=Object(p["isEmpty"])(e)?"...":"function"===typeof t.toValue?""+t.toValue(o):"function"===typeof t.value?t.value(e):e[t.ref]||""}catch(l){n="_ERROR_",console.error(l)}return{column:t,refData:o,value:n,data:e}});n.value.push({row:t,data:e,searchIndex:[...t,t.map(e=>e.value).join(" ")]})})};return Object(o["watch"])(()=>e.columnData,t=>{if(n.value=[],!Array.isArray(t)||!t.length)return l.value=0,c.value="",r.value="",void L(Array.from({length:e.rowsPerPage}).map(()=>({})));L(t)},{immediate:!0,deep:!0}),{first:I,last:S,next:w,prev:x,selectPage:y,sortColumn:V,onClickTablecell:P,toPDF:A,toCSV:R,finish:k,filterTable:B,sync:m["sync"],search:m["search"],close:m["close"],arrowUp:m["arrowUp"],arrowDown:m["arrowDown"],funnelOutline:m["funnelOutline"],page:N,canNext:u,searchTerm:c,totalPages:d,sortOrder:a,canPrev:b,currentPage:l,columnSorted:r,QWERTY:C["h"],showSearchKeyboard:i}}}),I=(n("8d45"),n("6b0d")),S=n.n(I);const w=S()(y,[["render",u],["__scopeId","data-v-47459846"]]);t["a"]=w},a3fb:function(e,t,n){},a53e:function(e,t,n){"use strict";n.r(t);var o=n("7a23");const l=e=>(Object(o["pushScopeId"])("data-v-6355f7a2"),e=e(),Object(o["popScopeId"])(),e),c={key:0},r={class:"his-sm-text"},a=l(()=>Object(o["createElementVNode"])("div",{class:"table-container",id:"report-content"},[Object(o["createElementVNode"])("table",{id:"t_id"},[Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",{style:{border:"none",width:"207px","background-color":"white"}}),Object(o["createElementVNode"])("th",{style:{border:"none",width:"118px","background-color":"white"}}),Object(o["createElementVNode"])("th",{style:{width:"64px"}},"Out-patient"),Object(o["createElementVNode"])("th",{colspan:"2",style:{width:"217px"}},"In-patient")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",{style:{border:"none","min-width":"50px",width:"229px","background-color":"white"}}),Object(o["createElementVNode"])("th",{style:{border:"none",width:"241px","background-color":"white"}}),Object(o["createElementVNode"])("td",{style:{"min-width":"50px","max-width":"50px",width:"207px","font-weight":"bold"}}," Cases "),Object(o["createElementVNode"])("td",{style:{"min-width":"50px","max-width":"50px",width:"118px","font-weight":"bold"}}," Cases "),Object(o["createElementVNode"])("td",{style:{"min-width":"50px","max-width":"50px",width:"64px","font-weight":"bold"}}," Deaths ")])]),Object(o["createElementVNode"])("tbody",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",rowspan:"2",style:{width:"217px"}}," Malaria < 5 years "),Object(o["createElementVNode"])("td",{class:"left",style:{width:"229px"}}," Uncomplicated "),Object(o["createElementVNode"])("td",{style:{width:"241px"}}," 0 "),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Severe "),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",null," 0 "),Object(o["createElementVNode"])("td",null," 0 ")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",rowspan:"2"}," Malaria >= 5 years "),Object(o["createElementVNode"])("td",{class:"left"}," Uncomplicated "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Severe "),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",rowspan:"2"}," Malaria in Pregnant women "),Object(o["createElementVNode"])("td",{class:"left"}," Uncomplicated "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Severe "),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," In-patient malaria with severe anemia (<5y) "),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Uncomplicated malaria <5y, lab-confirmed "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Uncomplicated malaria <5+, lab-confirmed "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Pneumonia (<5 years) "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Severe pneumonia (<5 years) "),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Very severe pneumonia (<5 years) "),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Diarrhoea with dehydration "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," New AIDS cases "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Male urethral discharge "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Male non-vesicular genital ulcer "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Female non-vesicular genital ulcer "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Diarrhoea with blood "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",{class:"disable"}),Object(o["createElementVNode"])("td",{class:"disable"})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Schistosomiasis urinary "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left",colspan:"2"}," Schistosomiasis intestinal "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",{style:{border:"none"}},[Object(o["createElementVNode"])("td",{style:{border:"none"}}," Â  "),Object(o["createElementVNode"])("td",{style:{border:"none","background-color":"white"}}),Object(o["createElementVNode"])("td",{style:{border:"none","background-color":"white"}}),Object(o["createElementVNode"])("td",{style:{border:"none","background-color":"white"}}),Object(o["createElementVNode"])("td",{style:{border:"none","background-color":"white"}})]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"bold",style:{border:"none","background-color":"white"}}),Object(o["createElementVNode"])("td",{class:"bold",style:{"background-color":"#f0f0f0","font-weight":"bold"}}," Out-patient "),Object(o["createElementVNode"])("td",{class:"bold",style:{"background-color":"#f0f0f0","font-weight":"bold"}}," In-patient "),Object(o["createElementVNode"])("td",{class:"bold",style:{"background-color":"#f0f0f0","font-weight":"bold"}}," Deaths ")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," AFP "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Cholera "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Measles "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Meningitis "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Neonatal tetanus "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Plague "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Viral Hemorrhagic Fever "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")]),Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{class:"left"}," Diarrhoea with blood "),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0"),Object(o["createElementVNode"])("td",null,"0")])])])],-1));function i(e,t,n,l,i,s){const d=Object(o["resolveComponent"])("ion-loading"),u=Object(o["resolveComponent"])("ion-title"),b=Object(o["resolveComponent"])("ion-icon"),m=Object(o["resolveComponent"])("ion-button"),p=Object(o["resolveComponent"])("ion-buttons"),O=Object(o["resolveComponent"])("ion-toolbar"),T=Object(o["resolveComponent"])("ion-header"),j=Object(o["resolveComponent"])("ion-chip"),h=Object(o["resolveComponent"])("ion-footer"),E=Object(o["resolveComponent"])("his-footer"),f=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(d,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(T,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,{class:"his-md-text"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.reportTitle)+" ",1),e.reportPeriod?(Object(o["openBlock"])(),Object(o["createElementBlock"])("br",c)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",r,Object(o["toDisplayString"])(e.reportPeriod),1)]),_:1}),Object(o["createVNode"])(p,{slot:"end"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{onClick:e.regenerate},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(b,{size:"large",icon:e.calendarBtn},null,8,["icon"])]),_:1},8,["onClick"]),Object(o["createVNode"])(m,{onClick:e.regenerate,color:"success",size:"large"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(b,{size:"large",icon:e.syncBtn},null,8,["icon"])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),a,Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{color:"primary"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Date Created: "),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(e.date),1)]),_:1}),Object(o["createVNode"])(j,{color:"primary"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("His-Core Version: "),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(e.coreVersion),1)]),_:1}),Object(o["createVNode"])(j,{color:"primary"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("API Version: "),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(e.apiVersion),1)]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(E,{btns:e.btns},null,8,["btns"])]),_:1})],64)}n("14d9");var s=n("0f25"),d=n("d867"),u=n("1c74"),b=n("9283"),m=n("ba82"),p=n("2048"),O=n("ff79"),T=n("c731"),j=n("d95e"),h=n("2706"),E=n("2ef0"),f=n("5a0c"),N=n.n(f),_=Object(o["defineComponent"])({components:{IonPage:d["IonPage"],IonLoading:d["IonLoading"],HisFooter:s["a"],IonToolbar:d["IonToolbar"],IonHeader:d["IonHeader"]},data:()=>({logo:"/assets/images/login-logos/Malawi-Coat_of_arms_of_arms.png",reportTitle:"Monthly MOH DHIS2",reportPeriod:"Jan 23 2023 - Oct 4 2023",btns:[],date:b["c"].toStandardHisDisplayFormat(u["e"].getSessionDate()),apiVersion:u["e"].getApiVersion(),coreVersion:u["e"].getCoreVersion(),isLoading:!1,indicators:{type:Object,default:()=>({})},syncBtn:O["sync"],calendarBtn:O["calendar"],startDate:"",endDate:"",reportType:""}),created(){this.btns=this.getBtns(),Object(T["a"])([{id:"dhis2_report",helpText:"Select DHIS2 Report",type:j["b"].TT_SELECT,validation:e=>h["a"].required(e),computedValue:e=>e.value,options:()=>[{label:"ANC Monthly Facility Report",value:"ANC Monthly Facility Report"},{label:"HMIS-15",value:"HMIS-15"},{label:"IDSR Monthly",value:"IDSR Monthly"}]},{id:"year",helpText:"Select Year",type:j["b"].TT_NUMBER,computedValue:e=>e.value,validation:e=>{const t=Object(E["isPlainObject"])(e)?e.value:-1;return h["a"].validateSeries([()=>h["a"].required(e),()=>isNaN(parseInt(""+t))?["Invalid year"]:null,()=>h["a"].rangeOf(e,2e3,b["c"].getYear(u["e"].getSessionDate()))])}},{id:"month",helpText:"Select Month",type:j["b"].TT_SELECT,validation:e=>h["a"].required(e),computedValue:e=>e.value,options:()=>[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}]}],e=>{this.startDate=`${e.year.value}-${e.month.value}-01`,this.endDate=N()(new Date(this.startDate).toISOString()).endOf("month").format("YYYY-MM-DD"),this.reportType=""+e.dhis2_report.value,this.onPeriod(),d["modalController"].dismiss()})},methods:{async onPeriod(){return this.reportPeriod=this.toDate(this.startDate)+" - "+this.toDate(this.endDate),this.reportTitle=this.reportTitle+": "+this.reportType,null},toDate(e){return e?N()(e).format("DD/MMM/YYYY"):e},async drilldown(e,t){(await d["modalController"].create({component:p["a"],backdropDismiss:!1,cssClass:"large-modal",componentProps:{title:e,subtitle:this.reportPeriod,patientIdentifiers:t,onFinish:()=>d["modalController"].getTop().then(e=>e&&d["modalController"].dismiss())}})).present()},exportToCsv(){return null},printSpec(){const e=document.getElementById("report-content");e&&Object(m["b"])(`\n                    <html>\n                        <head>\n                        <title>Print Cohort</title>\n                        <style> \n                            .numbers {\n                            width: 2.5%;\n                            text-align: center;\n                            border-width: 0px 1px 0px 0px;\n                            border-style: dotted;\n                            }\n                            .row-title {\n                            width: 17.75%;\n                            text-align: left;\n                            padding-left: 5px;\n                            border-style: dotted;\n                            }\n                            .signatures {\n                            width: 39.875%;\n                            text-align: left;\n                            padding-left: 5px;\n                            border-style: dotted;\n                            }\n                            .row-name {\n                            width: 39.875%;\n                            text-align: left;\n                            padding-left: 5px;\n                            border-style: dotted;\n                            border-left-style: solid;\n                            }\n                            .no-borders {\n                            border-width: 0px;\n                            }\n                            #version-row td {\n                            height: 30px;\n                            }\n                            #version {\n                            text-align: right;\n                            padding-right: 5px;\n                            font-size: 10px;\n                            }\n                            #consistency_check div {\n                            color: red;\n                            padding-bottom: 10px;\n                            }\n                            a {\n                            color: black;\n                            text-decoration: none;\n                            }\n                            table {\n                            width: 100%;\n                            border-collapse: collapse;\n                            margin-top: 10px;\n                            }\n                            tr {\n                            height: 45px;\n                            }\n                            .vertical-separator {\n                            border-width: 0px;\n                            }\n                            td {\n                            border-style: solid;\n                            border-width: 1px;\n                            padding: 1em;\n                            text-align: center;\n                            }\n                            .section-description td {\n                            border-width: 0px;\n                            }\n                            .horisonatl-separator td {\n                            border-width: 0px;\n                            }\n                            .numbers {\n                            width: 2.5%;\n                            text-align: center;\n                            border-width: 0px 1px 0px 0px;\n                            border-style: dotted;\n                            }\n                            .sum-arrows {\n                            width: 75px;\n                            height: 55px;\n                            }\n                            .postfixes {\n                            font-size: x-small;\n                            font-weight: bold;\n                            position: relative;\n                            top: -15px;\n                            left: -40px;\n                            }\n                            .granules {\n                            width: 100%;\n                            height: 32px;\n                            margin: 10px;\n                            display: table;\n                            }\n                            .granules-row {\n                            display: table-row;\n                            }\n                            .granules-cell {\n                            display: table-cell;\n                            text-align: center;\n                            }\n                            .granules span{\n                            font-size: 10px;\n                            }\n                            .granules-right-td {\n                            border-right-style: dotted !important;\n                            border-right-width: 1px;\n                            }\n\n                            @media print\n                            {\n                            table { page-break-after:auto }\n                            tr    { page-break-inside:avoid; page-break-after:auto }\n                            td    { page-break-inside:avoid; page-break-after:auto }\n                            thead { display:table-header-group }\n                            tfoot { display:table-footer-group }\n                            }\n                        </style>\n                        </head>\n                        <body>\n                        ${e.innerHTML}\n                        </body>\n                    </html>\n                    `)},regenerate(){return null},getBtns(){return[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:()=>this.exportToCsv()},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:()=>this.printSpec()},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:()=>this.$router.push({path:"/"})}]}}}),v=(n("df8b"),n("6b0d")),V=n.n(v);const C=V()(_,[["render",i],["__scopeId","data-v-6355f7a2"]]);t["default"]=C},ba82:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y}));n("13d5"),n("5b81"),n("88a7"),n("271a"),n("5494");var o=n("8baf"),l=n("0da4"),c=n.n(l),r=n("1547"),a=n("7322");const i=Object(r["d"])("Filesystem",{web:()=>n.e("chunk-2d0a4885").then(n.bind(null,"079a")).then(e=>new e.FilesystemWeb)});var s=n("2ed9"),d=n("b5e4");const u=Object(r["d"])("BlobWriter"),b=window.CapacitorWebFetch||window.fetch;function m(e){return window.btoa(Array.from(new Uint8Array(e)).map((function(e){return String.fromCharCode(e)})).join(""))}function p({path:e,directory:t,blob:n,recursive:o}){return i.writeFile({directory:t,path:e,recursive:o,data:""}).then((function(){return new Promise((function(o,l){function c(e){l(e.target.error)}const r=window.indexedDB.open("Disc");r.onerror=c,r.onsuccess=function(){const l=r.result,a=l.transaction("FileStorage","readwrite");a.onerror=c;const i=a.objectStore("FileStorage"),s=`/${t}/${e.replace(/^\//,"")}`,d=i.get(s);d.onsuccess=function(){d.result.size=n.size,d.result.content=n;const e=i.put(d.result);e.onsuccess=function(){o(void 0)}}}}))}))}function O({path:e,directory:t,blob:n,recursive:o}){return i.writeFile({directory:t,path:e,recursive:o,data:""}).then((function o(){if(0===n.size)return Promise.resolve();const l=393216,c=n.slice(0,l);return n=n.slice(l),new Response(c).arrayBuffer().then((function(n){return i.appendFile({directory:t,path:e,data:m(n)})})).then(o)}))}function T(e){const{path:t,directory:n,blob:o,fast_mode:l=!1,recursive:c,on_fallback:a}=e;return o&&Number.isSafeInteger(o.size)&&"string"===typeof o.type?"web"===r["a"].getPlatform()?l?p(e):O(e):Promise.all([u.get_config(),i.getUri({path:t,directory:n})]).then((function([e,t]){const n=t.uri.replace("file://","");return b(e.base_url+n+(c?"?recursive=true":""),{headers:{authorization:e.auth_token},method:"put",body:o}).then((function(e){if(204!==e.status)throw new Error("Bad HTTP status: "+e.status);return t.uri}))})).catch((function(t){return void 0!==a&&a(t),O(e)})):Promise.reject(new Error("Not a Blob."))}var j=Object.freeze(T),h=n("ec2d"),E=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.fromURL=function(e,t){return Object(h["b"])(this,"fromURL",{otherPromise:!0},arguments)},t.prototype.fromData=function(e,t){return Object(h["b"])(this,"fromData",{otherPromise:!0},arguments)},t.pluginName="PDFGenerator",t.plugin="cordova-pdf-generator",t.pluginRef="cordova.plugins.pdf",t.repo="https://github.com/cesarvr/pdf-generator",t.platforms=["Android","iOS"],t}(h["a"]),N=new f,_=n("1c74");function v(e){return e.reduce((e,t)=>e+t.map(e=>`"${e}"`).join(",")+"\n","")}function V(e,t,n){let o=null;const l="HIS-Core/"+e.replaceAll("/","_");Object(d["d"])(`Exporting file to "Documents/${l}"...`),o="blob"===n?j({path:l,blob:t,directory:a["a"].Documents,recursive:!0}):i.writeFile({path:l,data:t,directory:a["a"].Documents,encoding:a["b"].UTF8,recursive:!0}),null!=o&&o.then(()=>Object(d["d"])(`File exported to "Documents/${l}"!`,3e3)).catch(e=>Object(d["c"])(""+e))}function C(e){const{activePlatformProfile:t}=Object(s["e"])();if(t.value.fileExport===s["a"].FILE_SYSTEM)N.fromData(e,{documentSize:"a4",type:"share"}).catch(e=>Object(d["c"])(""+e));else if(t.value.fileExport===s["a"].WEB){const t=open("","","width:1024px, height:768px");t&&(null===t||void 0===t||t.document.write(e),setTimeout(()=>{t.print(),t.close()},3500))}else Object(d["e"])("Platform not supported")}function g(e,t,n="document"){t=I(t);const o=v(e.concat(t)),{activePlatformProfile:l}=Object(s["e"])(),c=n+".csv",r=_["e"].isPocSite();if(r&&l.value.fileExport!==s["a"].WEB)l.value.fileExport===s["a"].FILE_SYSTEM?V(c,o,"text"):Object(d["e"])("Platform not supported");else{const e=new Blob([o],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.setAttribute("id","csv"),t.href=window.URL.createObjectURL(e),t.setAttribute("download",n+".csv"),document.body.appendChild(t),t.click(),t.remove()}}function y(e,t,n="document",l=!1,r={}){t=I(t);const a=new o["default"]({...r}),i=a.splitTextToSize(n,180),u=i.length<=1?20:10*i.length;a.text(i,14,10);const b={startY:u,head:[e[e.length-1]],body:t};l&&(b.tableWidth="wrap",b.horizontalPageBreak=!0,b.horizontalPageBreakRepeat=0),c()(a,b);const{activePlatformProfile:m}=Object(s["e"])(),p=n+".pdf";m.value.fileExport===s["a"].WEB?a.save(p):m.value.fileExport===s["a"].FILE_SYSTEM?V(p,a.output(),"blob"):Object(d["c"])("Platform not supported")}function I(e){const t=e.map(e=>e.map(e=>"string"===typeof e?e.replace(/&lt;/g,"<"):e));return t}},c731:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("d867"),l=n("e6e9"),c=n("9441"),r=n("10be");async function a(e,t,n=null){(await o["modalController"].create({component:c["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{onFinish:t,fields:e,skipSummary:!0,disableAutoModalDismiss:!0,cancelAction:()=>{"function"===typeof n&&n(),o["modalController"].dismiss()}}})).present()}async function i(e,t={}){const n="boolean"!==typeof(null===t||void 0===t?void 0:t.strictNumbers)||(null===t||void 0===t?void 0:t.strictNumbers),l=await o["modalController"].create({component:r["a"],backdropDismiss:!1,cssClass:"keypad-modal custom-modal-backdrop",componentProps:{title:(null===t||void 0===t?void 0:t.title)||"",preset:(null===t||void 0===t?void 0:t.preset)||"",toggleButton:null===t||void 0===t?void 0:t.toggleButton,strictNumbers:n,customKeyboard:null===t||void 0===t?void 0:t.customKeyboard,noFloat:"boolean"===typeof(null===t||void 0===t?void 0:t.noFloat)&&t.noFloat,onKeyPress(t,o){e(n?parseInt(t):t,o)}}});l.present()}async function s(e,t){(await o["modalController"].create({component:l["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})).present()}},c7d5:function(e,t,n){},d95e:function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l})),function(e){e["TT_ASYNC_MULTI_SELECT"]="AsyncMultiSelect",e["TT_LINKAGE_CODE"]="LinkageCodeInput",e["TT_MULTI_SELECT_GRID"]="HisMultiSelectGrid",e["TT_AGE_INPUT"]="HisAgeInput",e["TT_GROUP_SELECTOR"]="HisGroupSelector",e["TT_DATA_TABLE"]="HisDataTable",e["TT_GRID_SELECTOR"]="HisGridSelector",e["TT_NOTE"]="HisNote",e["TT_BARCODE"]="HisBarcodeInput",e["TT_MONTHLY_DAYS"]="HisMonthlyDays",e["TT_TEXT"]="HisTextInput",e["TT_NUMBER"]="HisNumberInput",e["TT_DATETIME"]="datetime",e["TT_SELECT"]="HisSelect",e["TT_MULTIPLE_SELECT"]="HisMultipleSelect",e["TT_ART_REGIMEN_SELECTION"]="HisArtRegimenSelection",e["TT_NEXT_VISIT_INTERVAL_SELECTION"]="HisNextVisitInterval",e["TT_TABLE_VIEWER"]="HisTableViewer",e["TT_DOSAGE_INPUT"]="HisDosageInput",e["TT_YES_NO"]="YesNoSelect",e["TT_MULTIPLE_YES_NO"]="MultiYesNoSelect",e["TT_SUMMARY"]="HisSummary",e["TT_WEIGHT_CHART"]="HisWeightChart",e["TT_VITALS_ENTRY"]="HisVitalsEntry",e["TT_ADHERENCE_INPUT"]="HisAdherenceInput",e["TT_ART_STAGING_SUMMARY"]="ArtStagingSummary",e["TT_LAB_ORDERS"]="HisLabOrders",e["TT_APPOINTMENTS_ENTRY"]="HisAppointments",e["TT_DISPENSATION_INPUT"]="DrugDispensationSelection",e["TT_PROGRAM_SELECTION"]="ProgramSelection",e["TT_DATE_PICKER"]="HisDatePicker",e["TT_PERSON_RESULT_VIEW"]="PersonSearchView",e["TT_RELATION_SELECTION"]="RelationsSelection",e["TT_FILING_NUMBER_VIEW"]="FilingNumberView",e["TT_CARD_SELECTOR"]="HisCardSelector",e["TT_PERSON_MATCH_VIEW"]="PersonMatchView",e["TT_FULL_DATE"]="HisDateInput",e["TT_BATCH_ENTRY"]="HisBatchEntry",e["TT_BATCH_VERIFICATION"]="HisBatchVerification",e["TT_BATCH_MOVEMENT"]="HisBatchMovement",e["TT_COMPLAINTS_PICKER"]="HisComplaintsPicker",e["TT_RADIOLOGY_PICKER"]="HisRadiologyPicker",e["TT_IP_ADDRESS"]="HisIPAddress",e["TT_TEXT_BANNER"]="HisTextBanner",e["TT_DRUG_DISPENSER"]="GeneralDrugDispenser",e["TT_CLINIC_HOLIDAY_PICKER"]="HisClinicHolidayPicker",e["TT_ANC_PREGNANCY_INPUT_CONFIG"]="AncPregnancyInfoConfig",e["TT_ANC_PREGNANCY_DETAILS_INPUT"]="AncPregnancyDetailsInput",e["TT_ANC_LMP_DATE_INPUT"]="AncLmpDateInput",e["TT_ANC_DRUGSET_INPUT"]="AncDrugSetInput",e["TT_DRUG_TRANSFER_IN"]="DrugTransferInput",e["TT_PRESCRIPTION_INPUT"]="HisPrescriptionInput",e["TT_INFINITE_SCROLL_MULTIPLE_SELECT"]="HisInfiniteScrollMultipleSelect"}(o||(o={}));const l=[o.TT_ASYNC_MULTI_SELECT,o.TT_LINKAGE_CODE,o.TT_MULTI_SELECT_GRID,o.TT_AGE_INPUT,o.TT_BARCODE,o.TT_NOTE,o.TT_SELECT,o.TT_CARD_SELECTOR,o.TT_MULTIPLE_SELECT,o.TT_TEXT,o.TT_NUMBER,o.TT_MONTHLY_DAYS,o.TT_ART_REGIMEN_SELECTION,o.TT_NEXT_VISIT_INTERVAL_SELECTION,o.TT_TABLE_VIEWER,o.TT_DOSAGE_INPUT,o.TT_YES_NO,o.TT_MULTIPLE_YES_NO,o.TT_WEIGHT_CHART,o.TT_VITALS_ENTRY,o.TT_APPOINTMENTS_ENTRY,o.TT_COMPLAINTS_PICKER,o.TT_CLINIC_HOLIDAY_PICKER,o.TT_SUMMARY,o.TT_ART_STAGING_SUMMARY,o.TT_ADHERENCE_INPUT,o.TT_LAB_ORDERS,o.TT_PERSON_RESULT_VIEW,o.TT_PROGRAM_SELECTION,o.TT_DATE_PICKER,o.TT_RELATION_SELECTION,o.TT_FILING_NUMBER_VIEW,o.TT_PERSON_MATCH_VIEW,o.TT_FULL_DATE,o.TT_BATCH_ENTRY,o.TT_BATCH_VERIFICATION,o.TT_BATCH_MOVEMENT,o.TT_IP_ADDRESS,o.TT_TEXT_BANNER,o.TT_DISPENSATION_INPUT,o.TT_DATA_TABLE,o.TT_GROUP_SELECTOR,o.TT_ANC_PREGNANCY_INPUT_CONFIG,o.TT_ANC_PREGNANCY_DETAILS_INPUT,o.TT_ANC_LMP_DATE_INPUT,o.TT_DRUG_TRANSFER_IN,o.TT_GRID_SELECTOR,o.TT_ANC_DRUGSET_INPUT,o.TT_RADIOLOGY_PICKER,o.TT_PRESCRIPTION_INPUT,o.TT_INFINITE_SCROLL_MULTIPLE_SELECT,o.TT_DRUG_DISPENSER]},df8b:function(e,t,n){"use strict";n("c7d5")},e6e9:function(e,t,n){"use strict";var o=n("7a23");function l(e,t,n,l,c,r){const a=Object(o["resolveComponent"])("ion-title"),i=Object(o["resolveComponent"])("ion-toolbar"),s=Object(o["resolveComponent"])("ion-header"),d=Object(o["resolveComponent"])("ion-content"),u=Object(o["resolveComponent"])("ion-button"),b=Object(o["resolveComponent"])("ion-footer"),m=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(m,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(a,{class:"his-lg-text ion-text-center"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.currentField.helpText),1)]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(o["KeepAlive"],null,[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.currentField.type),{key:e.currentField.id,options:e.currentField.options,preset:e.currentField.preset,clear:e.valueClearIndex,fdata:e.formData,config:e.currentField.config,cdata:e.computedFormData,activationState:e.state,onValue:e.currentField.onValue,defaultValue:e.currentField.defaultValue,onValueUpdate:e.currentField.onValueUpdate,onOnValue:e.onFieldValue},null,40,["options","preset","clear","fdata","config","cdata","activationState","onValue","defaultValue","onValueUpdate","onOnValue"]))],1024))]),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,{color:"light"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,{disabled:e.disableBtn,onClick:e.onClose,slot:"start",color:"danger",size:"large"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Close ")]),_:1},8,["disabled","onClick"]),Object(o["createVNode"])(u,{disabled:e.disableBtn,onClick:e.onClear,slot:"end",color:"warning",size:"large"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Clear ")]),_:1},8,["disabled","onClick"]),Object(o["createVNode"])(u,{disabled:e.disableBtn,onClick:e.onDone,slot:"end",color:"success",size:"large"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Done ")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1})}var c=n("b5e4"),r=n("d95e"),a=n("d867");function i(){const e={};return r["a"].forEach(t=>{e[t]=Object(o["defineAsyncComponent"])(()=>n("f159")(`./${t}.vue`))}),e}var s=Object(o["defineComponent"])({name:"SingleFieldTouchForm",components:{IonPage:a["IonPage"],IonContent:a["IonContent"],IonFooter:a["IonFooter"],IonToolbar:a["IonToolbar"],IonButton:a["IonButton"],IonHeader:a["IonHeader"],IonTitle:a["IonTitle"],...i()},props:{dismissType:{type:String},onFinish:{type:Function,required:!0},currentField:{type:Object,required:!0}},data:()=>({valueClearIndex:0,formData:{},computedFormData:{},state:"",value:null,disableBtn:!1}),methods:{onClose(){"modal"===this.dismissType?a["modalController"].dismiss():this.$router.back()},onClear(){this.valueClearIndex+=1,this.value=null},onFieldValue(e){this.value=e},onDone(){if(this.disableBtn=!0,this.currentField.validation){const e=this.currentField.validation(this.value);if(this.disableBtn=!1,e)return Object(c["e"])(e.join(", "),6e4)}try{this.onFinish(this.value)}catch(e){Object(c["c"])(""+e),console.error(e)}this.onClose(),this.disableBtn=!1}}}),d=n("6b0d"),u=n.n(d);const b=u()(s,[["render",l]]);t["a"]=b},f159:function(e,t,n){var o={"./AncDrugSetInput.vue":["c99f","TouchFormElement0"],"./AncLmpDateInput.vue":["101a","TouchFormElement1"],"./AncPregnancyDetailsInput.vue":["b043","TouchFormElement2"],"./AncPregnancyInfoConfig.vue":["262e","TouchFormElement3"],"./ArtStagingSummary.vue":["43db","TouchFormElement4"],"./AsyncMultiSelect.vue":["5de2","chunk-03993608","TouchFormElement5"],"./BaseTextInput.vue":["36ad","TouchFormElement6"],"./DrugDispensationSelection.vue":["05d5","TouchFormElement7"],"./DrugTransferInput.vue":["de42","chunk-337918c0","TouchFormElement8"],"./FieldMixin.vue":["51c8","TouchFormElement9"],"./FilingNumberView.vue":["c650","TouchFormElement10"],"./GeneralDrugDispenser.vue":["7737","TouchFormElement11"],"./HisAdherenceInput.vue":["f2c3","chunk-337918c0","TouchFormElement12"],"./HisAgeInput.vue":["c05f","TouchFormElement13"],"./HisAppointments.vue":["b2eb","chunk-d64a144c","TouchFormElement14"],"./HisArtRegimenSelection.vue":["47b9","TouchFormElement15"],"./HisBarcodeInput.vue":["dd65","TouchFormElement16"],"./HisBatchEntry.vue":["f2ab","chunk-182277b5","chunk-337918c0","TouchFormElement17"],"./HisBatchMovement.vue":["5148","chunk-182277b5","chunk-337918c0","TouchFormElement18"],"./HisBatchVerification.vue":["7b0f","chunk-182277b5","chunk-337918c0","TouchFormElement19"],"./HisCardSelector.vue":["0734","TouchFormElement20"],"./HisClinicHolidayPicker.vue":["4030","chunk-d64a144c","TouchFormElement21"],"./HisComplaintsPicker.vue":["82d1","TouchFormElement22"],"./HisDataTable.vue":["a6ba","TouchFormElement23"],"./HisDateInput.vue":["374c","TouchFormElement24"],"./HisDatePicker.vue":["9b30","chunk-d64a144c","TouchFormElement25"],"./HisDosageInput.vue":["b34c","chunk-337918c0","TouchFormElement26"],"./HisGridSelector.vue":["112a","TouchFormElement27"],"./HisGroupSelector.vue":["81cf","TouchFormElement28"],"./HisIPAddress.vue":["2a82","TouchFormElement29"],"./HisInfiniteScrollMultipleSelect.vue":["52a3","TouchFormElement30"],"./HisLabOrders.vue":["e614","chunk-03993608","TouchFormElement31"],"./HisMonthlyDays.vue":["69cf","TouchFormElement32"],"./HisMultiSelectGrid.vue":["0fa3","TouchFormElement33"],"./HisMultipleSelect.vue":["2fd5","chunk-03993608","TouchFormElement34"],"./HisNextVisitInterval.vue":["3126","TouchFormElement35"],"./HisNote.vue":["c927","TouchFormElement36"],"./HisNumberInput.vue":["5e75","TouchFormElement37"],"./HisPrescriptionInput.vue":["87e5","chunk-337918c0","TouchFormElement38"],"./HisRadiologyPicker.vue":["adc7","TouchFormElement39"],"./HisSelect.vue":["d11f","TouchFormElement40"],"./HisSummary.vue":["e0bd","TouchFormElement41"],"./HisTableViewer.vue":["8904","TouchFormElement42"],"./HisTextBanner.vue":["952c","TouchFormElement43"],"./HisTextInput.vue":["6ef9","TouchFormElement44"],"./HisVitalsEntry.vue":["e333","TouchFormElement45"],"./HisWeightChart.vue":["26a1","TouchFormElement46"],"./LinkageCodeInput.vue":["ac86","TouchFormElement47"],"./MultiYesNoSelect.vue":["5fd1","TouchFormElement48"],"./PersonMatchView.vue":["6591","TouchFormElement49"],"./PersonSearchView.vue":["28b2","TouchFormElement50"],"./ProgramSelection.vue":["e3b4","TouchFormElement51"],"./RelationsSelection.vue":["0e57","TouchFormElement52"],"./SelectMixin.vue":["82a9","TouchFormElement53"],"./YesNoSelect.vue":["71f2","TouchFormElement54"]};function l(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],l=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(l)}))}l.keys=function(){return Object.keys(o)},l.id="f159",e.exports=l},f28a:function(e,t,n){}}]);
//# sourceMappingURL=chunk-2899cf11.c23658ac.js.map