{"version":3,"sources":["webpack:///./src/apps/EMC/views/Dashboard.vue?2235","webpack:///./src/apps/EMC/Components/DashboardCard.vue?bd33","webpack:///./src/apps/EMC/Components/DashboardCard.vue","webpack:///./src/apps/EMC/Components/DashboardCard.vue?9eee","webpack:///./src/apps/EMC/views/Dashboard.vue","webpack:///./src/apps/EMC/views/Dashboard.vue?dac3","webpack:///./src/apps/EMC/Components/DashboardCard.vue?10dc","webpack:///./src/apps/EMC/Components/charts/LineChart.vue?7567","webpack:///./src/apps/EMC/Components/charts/LineChart.vue","webpack:///./src/apps/EMC/Components/charts/LineChart.vue?8c3f"],"names":["_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_button","_resolveComponent","_component_dashboard_card","_component_ion_col","_component_ion_row","_component_line_chart","_component_ion_grid","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createTextVNode","_createVNode","onClick","loadData","default","_withCtx","_","value","missedAppointments","label","color","icon","calendar","appointmentsDue","alarm","dueForVL","time","defaulters","people","patientsOnDTG","txCurrent30","txCurrent60","options","chartOptions","series","chartSeries","_component_ion_card_title","_component_ion_spinner","_component_ion_card_subtitle","_component_ion_icon","_component_ion_card_content","_component_ion_card","_createBlock","_toDisplayString","isLoading","key","name","loaderColor","canShowIcon","_createCommentVNode","defineComponent","props","type","Number","String","required","components","IonCard","IonCardContent","IonCardTitle","IonCardSubtitle","IonSpinner","IonIcon","setup","computed","_props$icon","length","__exports__","inheritAttrs","IonGrid","IonRow","IonCol","DashboardCard","LineChart","IonButton","today","HisDate","toStandardHisFormat","Date","quarter","getDateQuarter","tomorrow","add","format","STANDARD_DATE_FORMAT","ref","buildChartData","data","isEmpty","dates","Object","keys","complete","incomplete","categories","forEach","day","push","toStandardHisDisplayFormat","title","text","align","xaxis","tickAmount","labels","show","rotate","async","reload","Store","get","EmcStore","PATIENT_ON_DTG","PATIENT_VISITS","APPOINTMENTS_DUE","date","MISSED_APPOINTMENTS","TX_CURRENT_30","TX_CURRENT_60","DUE_FOR_VL","DEFAULTERS","end","onMounted","_component_apex_chart","style","width","height","onMarkerClick","onPointSelection","Array","placeholder","ApexChart","emits","emit","defaults","chart","id","markers","size","hover","sizeOffset","tooltip","x","noData","verticalAlign","offsetX","offsetY","fontSize","fontFamily","e","c","dataPointIndex","seriesIndex","console","log"],"mappings":"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","file":"js/chunk-6bfd0d86.1a5e329a.js","sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"his-lg-text ion-padding-start\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_dashboard_card = _resolveComponent(\"dashboard-card\")!\n  const _component_ion_col = _resolveComponent(\"ion-col\")!\n  const _component_ion_row = _resolveComponent(\"ion-row\")!\n  const _component_line_chart = _resolveComponent(\"line-chart\")!\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"h1\", _hoisted_1, [\n      _createTextVNode(\" Dashboard \"),\n      _createVNode(_component_ion_button, {\n        class: \"ion-margin-end ion-float-right\",\n        onClick: _cache[0] || (_cache[0] = () => _ctx.loadData(true))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Refresh \")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_component_ion_grid, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_row, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_dashboard_card, {\n                  value: _ctx.missedAppointments,\n                  label: \"Missed Appointments\",\n                  color: \"primary\",\n                  icon: _ctx.calendar\n                }, null, 8, [\"value\", \"icon\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_dashboard_card, {\n                  value: _ctx.appointmentsDue,\n                  label: \"Appointments Due\",\n                  color: \"success\",\n                  icon: _ctx.alarm\n                }, null, 8, [\"value\", \"icon\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_dashboard_card, {\n                  value: _ctx.dueForVL,\n                  label: \"Due for Viral Load\",\n                  color: \"secondary\",\n                  icon: _ctx.time\n                }, null, 8, [\"value\", \"icon\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_dashboard_card, {\n                  value: _ctx.defaulters,\n                  label: \"Defaulters (this Quarter)\",\n                  color: \"danger\",\n                  icon: _ctx.people\n                }, null, 8, [\"value\", \"icon\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_ion_row, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_dashboard_card, {\n                  label: \"Patients on DTG\",\n                  value: _ctx.patientsOnDTG,\n                  class: \"his-card\"\n                }, null, 8, [\"value\"]),\n                _createVNode(_component_dashboard_card, {\n                  label: \"TX Current (30 Days)\",\n                  value: _ctx.txCurrent30,\n                  class: \"his-card\"\n                }, null, 8, [\"value\"]),\n                _createVNode(_component_dashboard_card, {\n                  label: \"TX Current (60 Days)\",\n                  value: _ctx.txCurrent60,\n                  class: \"his-card\"\n                }, null, 8, [\"value\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_col, { \"size-lg\": \"9\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_line_chart, {\n                  options: _ctx.chartOptions,\n                  series: _ctx.chartSeries\n                }, null, 8, [\"options\", \"series\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64))\n}","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_card_title = _resolveComponent(\"ion-card-title\")!\n  const _component_ion_spinner = _resolveComponent(\"ion-spinner\")!\n  const _component_ion_card_subtitle = _resolveComponent(\"ion-card-subtitle\")!\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n  const _component_ion_card_content = _resolveComponent(\"ion-card-content\")!\n  const _component_ion_card = _resolveComponent(\"ion-card\")!\n\n  return (_openBlock(), _createBlock(_component_ion_card, { color: _ctx.color }, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_card_content, { class: \"ion-padding\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_card_title, { class: \"ion-padding\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.label), 1)\n            ]),\n            _: 1\n          }),\n          (_ctx.isLoading)\n            ? (_openBlock(), _createBlock(_component_ion_card_subtitle, {\n                key: 0,\n                class: \"ion-padding\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_spinner, {\n                    name: \"bubbles\",\n                    color: _ctx.loaderColor\n                  }, null, 8, [\"color\"])\n                ]),\n                _: 1\n              }))\n            : (_openBlock(), _createBlock(_component_ion_card_subtitle, {\n                key: 1,\n                class: \"ion-padding\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_ctx.value), 1)\n                ]),\n                _: 1\n              })),\n          (_ctx.canShowIcon)\n            ? (_openBlock(), _createBlock(_component_ion_icon, {\n                key: 2,\n                icon: _ctx.icon,\n                class: \"ion-float-right\"\n              }, null, 8, [\"icon\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"color\"]))\n}","\nimport { IonCard, IonCardTitle, IonCardSubtitle, IonSpinner, IonCardContent, IonIcon } from \"@ionic/vue\";\nimport { computed, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"DashboardCard\",\n  props: {\n    value: {\n      type: Number,\n      default: -1,\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    icon: {\n      type: String,\n    },\n    color: {\n      type: String,\n      default: 'light'\n    }\n  },\n  components: {\n    IonCard,\n    IonCardContent,\n    IonCardTitle,\n    IonCardSubtitle,\n    IonSpinner,\n    IonIcon,\n  },\n  setup(props) {\n    const isLoading = computed(() => props.value === -1);\n    const canShowIcon = computed(() => !!props.icon?.length)\n    const loaderColor = computed(() => props.color === 'light' ? 'primary' : 'light')\n    return {\n      isLoading,\n      canShowIcon,\n      loaderColor\n    };\n  },\n});\n","import { render } from \"./DashboardCard.vue?vue&type=template&id=4e012de6&scoped=true&ts=true\"\nimport script from \"./DashboardCard.vue?vue&type=script&lang=ts\"\nexport * from \"./DashboardCard.vue?vue&type=script&lang=ts\"\n\nimport \"./DashboardCard.vue?vue&type=style&index=0&id=4e012de6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e012de6\"]])\n\nexport default __exports__","\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport { IonGrid, IonRow, IonCol, IonButton } from \"@ionic/vue\";\nimport DashboardCard from \"../Components/DashboardCard.vue\";\nimport { people, calendar, alarm, time } from \"ionicons/icons\";\nimport HisDate, { STANDARD_DATE_FORMAT } from \"@/utils/Date\";\nimport Store from \"@/composables/ApiStore\";\nimport { EmcStore } from \"../Config/emcStore\";\nimport LineChart from \"../Components/charts/LineChart.vue\";\nimport { isEmpty } from \"lodash\";\n\nexport default defineComponent({\n  name: \"Dashboard\",\n  inheritAttrs: false,\n  components: {\n    IonGrid,\n    IonRow,\n    IonCol,\n    DashboardCard,\n    LineChart,\n    IonButton,\n  },\n  setup() {\n    const today = HisDate.toStandardHisFormat(new Date());\n    const quarter = HisDate.getDateQuarter(today);\n    const tomorrow = HisDate.add(today, \"day\", 1).format(STANDARD_DATE_FORMAT);\n    const missedAppointments = ref<number>()\n    const appointmentsDue = ref<number>()\n    const dueForVL = ref<number>()\n    const defaulters = ref<number>()\n    const patientsOnDTG = ref<number>()\n    const txCurrent30 = ref<number>()\n    const txCurrent60 = ref<number>()\n    const chartSeries = ref<any[]>([]);\n    const chartOptions = ref<Record<string, any>>({})\n\n    const buildChartData = (data: Record<string, any>) => {\n      if(isEmpty(data)) return\n      const dates = Object.keys(data)\n      const complete: number[] = []\n      const incomplete: number[] = []\n      const categories: string[] = []\n      dates.forEach(day => {\n        categories.push(HisDate.toStandardHisDisplayFormat(day))\n        complete.push(data[day].complete)\n        incomplete.push(data[day].incomplete)\n      })\n      chartOptions.value = {\n        title: {\n          text: \"Complete / incomplete visits\",\n          align: \"left\",\n        },\n        xaxis: {\n          categories,\n          tickAmount: 30,\n          labels: {\n            show: true,\n            rotate: -75,\n          }\n        },\n      }\n      chartSeries.value = [\n        {\n          name: \"Complete Visits\",\n          data: complete,\n        },\n        {\n          name: \"Incomplete Visits\",\n          data: incomplete,\n        },\n      ]\n    }\n\n    const loadData = async (reload = false) => {\n      patientsOnDTG.value = (await Store.get(EmcStore.PATIENT_ON_DTG, { quarter, reload })).length\n      buildChartData(await Store.get(EmcStore.PATIENT_VISITS, { quarter, reload }))\n      appointmentsDue.value = (await Store.get(EmcStore.APPOINTMENTS_DUE, { date: tomorrow, reload })).length\n      missedAppointments.value = (await Store.get(EmcStore.MISSED_APPOINTMENTS, { date: today, quarter, reload })).length\n      txCurrent30.value = (await Store.get(EmcStore.TX_CURRENT_30, { quarter, reload })).length\n      txCurrent60.value = (await Store.get(EmcStore.TX_CURRENT_60, { quarter, reload })).length\n      dueForVL.value = (await Store.get(EmcStore.DUE_FOR_VL, { quarter, reload })).length\n      defaulters.value = (await Store.get(EmcStore.DEFAULTERS, {date: today, quarter: {...quarter, end: today}, reload })).length\n    }\n\n    onMounted(async () => loadData())\n\n    return {\n      people,\n      calendar,\n      alarm,\n      time,\n      missedAppointments,\n      appointmentsDue,\n      dueForVL,\n      defaulters,\n      patientsOnDTG,\n      txCurrent30,\n      txCurrent60,\n      chartOptions,\n      chartSeries,\n      loadData,\n    };\n  },\n});\n","import { render } from \"./Dashboard.vue?vue&type=template&id=2ade11f2&ts=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=ts\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DashboardCard.vue?vue&type=style&index=0&id=4e012de6&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_apex_chart = _resolveComponent(\"apex-chart\")!\n  const _component_ion_card_content = _resolveComponent(\"ion-card-content\")!\n  const _component_ion_card = _resolveComponent(\"ion-card\")!\n\n  return (_openBlock(), _createBlock(_component_ion_card, {\n    class: \"his-card\",\n    style: {\"height\":\"100%\"}\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_card_content, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_apex_chart, {\n            width: \"100%\",\n            height: _ctx.height,\n            type: \"line\",\n            options: _ctx.chartOptions,\n            series: _ctx.series,\n            onMarkerClick: _ctx.onPointSelection\n          }, null, 8, [\"height\", \"options\", \"series\", \"onMarkerClick\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport { computed, defineComponent, PropType } from \"vue\";\nimport { IonCard, IonCardContent } from \"@ionic/vue\";\nimport ApexChart from \"vue3-apexcharts\"\n\nexport default defineComponent({\n  name: \"LineChart\",\n  props: {\n    series: {\n      type: Array as PropType<any[]>,\n      default: () => []\n    },\n    options: {\n      type: Object as PropType<Record<string, any>>,\n      default: () => ({})\n    },\n    height: {\n      type: [String, Number],\n      default: 560\n    },\n    placeholder: {\n      type: String,\n      default: \"Loading data...\"\n    }\n  },\n  components: { IonCard, IonCardContent, ApexChart },\n  emits: [\"pointSelection\"],\n  setup(props, { emit }) {\n    const chartOptions = computed(() => {\n      const defaults: Record<string, any> = {\n        chart: {\n          id: \"line-chart\",\n          type: 'line',\n        },\n        xaxis: {\n          type: 'datetime',\n          tickAmount: 2,\n          labels: {\n            show: true,\n            rotate: -75,\n          }\n        },\n        markers: {\n          size: 8,\n          hover: {\n            sizeOffset: 3\n          }\n        },\n        tooltip: {\n          x: {\n            format: 'dd/MMM/yyyy'\n          }\n        },\n        title: {\n          text: 'Line Chart',\n          align: 'left'\n        },\n        noData: {\n          text: props.placeholder,\n          align: \"center\",\n          verticalAlign: \"middle\",\n          offsetX: 0,\n          offsetY: 0,\n          style: {\n            color: \"#a7a7a7\",\n            fontSize: \"25px\",\n            fontFamily: \"Helvetica\",\n          },\n        },\n      }\n\n      for (const key in props.options) {\n        defaults[key] = { ...defaults[key], ...props.options[key] };\n      }\n      \n      return defaults;\n    });\n\n    const onPointSelection = (e: any, c: any, { dataPointIndex, seriesIndex }: any) => {\n      console.log(e, c)\n      emit(\"pointSelection\", dataPointIndex, seriesIndex <= 0 ? 0 : seriesIndex)\n    }\n    return {\n      chartOptions,\n      onPointSelection,\n    };\n  },\n});\n","import { render } from \"./LineChart.vue?vue&type=template&id=ead7d7b6&ts=true\"\nimport script from \"./LineChart.vue?vue&type=script&lang=ts\"\nexport * from \"./LineChart.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}