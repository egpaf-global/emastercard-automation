(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ffa6b91"],{"0015":function(t,e,a){"use strict";var r=a("6a98"),n=a.n(r);n.a},"2cbc":function(t,e,a){},"6a98":function(t,e,a){},aa70:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[a("side-bar"),a("div",{attrs:{id:"page-content-wrapper"}},[a("top-nav"),a("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[a("span",[t._v(t._s(t.report_title)),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])]),t._m(0)])],1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-striped report",attrs:{id:"cohort-clients"}},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("ARV number")]),a("th",{attrs:{scope:"col"}},[t._v("First name")]),a("th",{attrs:{scope:"col"}},[t._v("Last name")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("Gender")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("DOB")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("Outcome")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}})])])])}],s=(a("a15b"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),i=a("8051"),c=a("ebd8"),o=a("7c08"),l=a("c1df"),d=a.n(l),u=a("1157"),p=a.n(u);a("6810");a("2cdf"),a("fd5e"),a("5caa"),a("c3dc"),a("4e95"),a("a8a1"),a("919c"),a("4b69"),a("7dae"),a("a821");var f={name:"reports",components:{"top-nav":c["a"],"side-bar":o["a"]},methods:{fetchData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="cohort_report_drill_down?id="+this.$route.params.id,e+="&date=2020-01-01",e+="&program_id=1",t.next=5,i["a"].get(e,{},{});case 5:a=t.sent,200===a.status?a.json().then((function(t){return r.checkResult(t)})):setTimeout((function(){return r.fetchData()}),5e3);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initDataTable:function(){var t=this.$route.params.indicator.split("_");this.report_title=t.join(" ").toUpperCase(),this.dTable=p()("#cohort-clients").dataTable({order:[[0,"asc"]],fixedHeader:!0,data:this.formatedData,dom:"Bfrtip",buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}],columnDefs:[{className:"center-text",targets:3},{className:"center-text",targets:4}]})},checkResult:function(t){var e=this,a=window.location,r=new URL(a);r.searchParams.get("resource_id");this.reportData=t,setTimeout((function(){return e.datatableEnable(t)}),10)},datatableEnable:function(t){for(var e=0;e<t.length;e++){var a=void 0;try{a=d()(t[e].birthdate).format("DD/MMM/YYYY")}catch(r){a="N/A"}this.formatedData.push([t[e].arv_number,t[e].given_name,t[e].family_name,t[e].gender,a,t[e].outcome||"N/A",this.createdShowBTN(t[e].person_id)])}this.dTable.api().destroy(),this.initDataTable()},createdShowBTN:function(t){var e=document.createElement("span"),a=document.createElement("button");return a.setAttribute("onclick",'javascript:location="/patient/mastercard/'+t+'"'),a.innerHTML="Show",a.setAttribute("class","btn-warning show-btn"),e.appendChild(a),e.innerHTML}},mounted:function(){var t=this;setTimeout((function(){return t.initDataTable()}),300),setTimeout((function(){return t.fetchData()}),300)},data:function(){return{report_title:"MoH cohort report drill down (version 25)",reportData:null,dTable:null,formatedData:[]}}},h=f,b=(a("0015"),a("bbfd"),a("2877")),m=Object(b["a"])(h,r,n,!1,null,"0f9fff0f",null);e["default"]=m.exports},bbfd:function(t,e,a){"use strict";var r=a("2cbc"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-1ffa6b91.ec956a0b.js.map