{"version":3,"sources":["webpack:///./src/apps/ART/views/encounters/BpAlert.vue?36ae","webpack:///./src/apps/ART/views/encounters/BpAlert.vue","webpack:///./src/apps/ART/views/encounters/BpAlert.vue?034b","webpack:///./src/apps/ART/views/encounters/BpAlert.vue?75dc"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createElementVNode","class","_hoisted_2","key","_hoisted_3","style","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createTextVNode","_hoisted_8","_hoisted_9","_hoisted_10","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_content","_resolveComponent","_component_ion_button","_component_ion_toolbar","_component_ion_footer","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","hasPressureReading","_createElementBlock","_withDirectives","_vShow","patientOnBpDrugs","_toDisplayString","patientName","highBP","sysBp","dsBP","_createCommentVNode","_","color","onClick","showRiskFactors","nextTask","size","slot","recaptureBp","defineComponent","mixins","EncounterMixinVue","components","IonFooter","IonContent","IonPage","IonButton","IonToolbar","data","riskFactors","isPregnant","systolicThreshold","diastolicTheshold","methods","modal","modalController","create","component","RiskFactorModal","backdropDismiss","cssClass","componentProps","factors","this","present","onDidDismiss","isEmpty","concepts","ConceptService","getConceptsByCategory","j","map","async","val","ObservationService","getFirstValueCoded","patientID","concept","name","value","Promise","all","$router","push","watch","ready","r","loading","loadingController","message","htn","BPManagementService","providerID","getRiskFactors","ART_PROP","diastolicThreshold","getDiastolicBp","getSystolicBp","onBpDrugs","patient","isChildBearing","dismiss","immediate","computed","getFullName","__exports__"],"mappings":"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","file":"js/chunk-c326e570.feff8a68.js","sourcesContent":["import { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-146a0e6b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", { class: \"ion-text-center\" }, \" High BP Alert \", -1))\nconst _hoisted_2 = {\n  key: 0,\n  class: \"vertically-align ion-text-center\"\n}\nconst _hoisted_3 = { style: {\"font-weight\":\"bold\"} }\nconst _hoisted_4 = { class: \"name\" }\nconst _hoisted_5 = { class: \"bp\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, [\n  /*#__PURE__*/_createTextVNode(\" Retesting BP is \"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-weight\":\"bold\",\"color\":\"#000000\",\"text-decoration\":\"underline\"} }, \"optional\"),\n  /*#__PURE__*/_createTextVNode(\". \"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Do you want to test BP? \")\n], -1))\nconst _hoisted_8 = {\n  key: 1,\n  class: \"vertically-align ion-text-center\"\n}\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \" Do you want to test BP? \", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_content, null, {\n        default: _withCtx(() => [\n          _hoisted_1,\n          (_ctx.hasPressureReading)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                _withDirectives(_createElementVNode(\"h2\", _hoisted_3, \" (Patient already on BP drugs) \", 512), [\n                  [_vShow, _ctx.patientOnBpDrugs]\n                ]),\n                _createElementVNode(\"h2\", null, [\n                  _createElementVNode(\"span\", _hoisted_4, _toDisplayString(_ctx.patientName), 1),\n                  _createTextVNode(\" has \"),\n                  _withDirectives(_createElementVNode(\"span\", null, \" a high \", 512), [\n                    [_vShow, _ctx.highBP]\n                  ]),\n                  _createTextVNode(\" blood pressure of \"),\n                  _createElementVNode(\"span\", _hoisted_5, _toDisplayString(_ctx.sysBp) + \" / \" + _toDisplayString(_ctx.dsBP), 1),\n                  _hoisted_6,\n                  _hoisted_7\n                ])\n              ]))\n            : _createCommentVNode(\"\", true),\n          (!_ctx.hasPressureReading)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                _createTextVNode(\" No BP Reading found \"),\n                _hoisted_9,\n                _hoisted_10\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_footer, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_button, {\n                onClick: _cache[0] || (_cache[0] = () => _ctx.hasPressureReading ? _ctx.showRiskFactors() : _ctx.nextTask()),\n                size: \"large\",\n                color: \"danger\",\n                slot: \"start\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" No \")\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_button, {\n                onClick: _ctx.recaptureBp,\n                size: \"large\",\n                color: \"success\",\n                slot: \"end\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Yes \")\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent } from 'vue'\nimport EncounterMixinVue from '../../../../views/EncounterMixin.vue'\nimport {\n    IonFooter,\n    IonContent,\n    IonPage,\n    IonButton,\n    IonToolbar,\n    loadingController,\n    modalController\n} from \"@ionic/vue\"\nimport ART_PROP from \"@/apps/ART/art_global_props\"\nimport { BPManagementService } from '../../services/htn_service'\nimport { ConceptService } from \"@/services/concept_service\";\nimport RiskFactorModal from \"@/components/DataViews/RiskFactorModal.vue\";\nimport { ObservationService } from \"@/services/observation_service\";\nimport { isEmpty } from \"lodash\";\n\nexport default defineComponent({\n    mixins: [EncounterMixinVue],\n    components: { \n        IonFooter,\n        IonContent,\n        IonPage,\n        IonButton,\n        IonToolbar\n    },\n    data: () => ({\n        sysBp: 0 as number,\n        dsBP: 0 as number,\n        riskFactors: [] as any,\n        patientOnBpDrugs: false as boolean,\n        isPregnant: false as boolean,\n        systolicThreshold: 145,\n        diastolicTheshold: 94\n    }),\n    methods: {\n        async showRiskFactors() {\n            const modal = await modalController.create({\n                component: RiskFactorModal,\n                backdropDismiss: false,\n                cssClass: \"large-modal\",\n                componentProps: {\n                    factors: this.riskFactors\n                }\n            })\n            modal.present()\n            const { data } = await modal.onDidDismiss();\n            if (!isEmpty(data)) this.nextTask()\n        },\n        async getRiskFactors() {\n            const concepts = ConceptService.getConceptsByCategory(\"risk factors\");\n            const j = concepts.map(async (concept) => {\n            const val = await ObservationService.getFirstValueCoded(this.patientID, concept.name)\n                return {\n                    concept: concept.name, value: val\n                }\n            })\n            return Promise.all(j);\n        },\n        recaptureBp() {\n            this.$router.push(`/art/encounters/vitals/${this.patientID}?vital_options=BP`)\n        }\n    },\n    watch: {\n        ready: {\n            async handler(r: boolean) {\n                if (!r) return\n                const loading = await loadingController.create({\n                    message: 'Verifying Blood Pressure...',\n                    backdropDismiss: false\n                })\n                await loading.present()\n                const htn = new BPManagementService(this.patientID, this.providerID)\n                this.riskFactors = await this.getRiskFactors();\n                this.systolicThreshold = (await ART_PROP.systolicThreshold()) || 145\n                this.diastolicTheshold = (await ART_PROP.diastolicThreshold()) || 94\n                this.dsBP = (await htn.getDiastolicBp()) || 0\n                this.sysBp = (await htn.getSystolicBp()) || 0\n                this.patientOnBpDrugs = (await htn.onBpDrugs()) || false\n                this.isPregnant = this.patient.isChildBearing()\n                    ? (await this.patient.isPregnant()) || false\n                    : false\n                loadingController.dismiss()\n            },\n            immediate: true\n        }\n    },\n    computed: {\n        patientName(): string {\n            return this.ready ? this.patient.getFullName() : 'Patient'\n        },\n        hasPressureReading(): boolean {\n            return this.sysBp > 0 && this.dsBP > 0\n        },\n        highBP(): boolean {\n            return (this.sysBp >= this.systolicThreshold\n                && this.dsBP >= this.diastolicTheshold || this.dsBP >= this.diastolicTheshold)\n                && !this.isPregnant\n        }\n    }\n})\n","import { render } from \"./BpAlert.vue?vue&type=template&id=146a0e6b&scoped=true&ts=true\"\nimport script from \"./BpAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./BpAlert.vue?vue&type=script&lang=ts\"\n\nimport \"./BpAlert.vue?vue&type=style&index=0&id=146a0e6b&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-146a0e6b\"]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BpAlert.vue?vue&type=style&index=0&id=146a0e6b&scoped=true&lang=css\""],"sourceRoot":""}