{"version":3,"sources":["webpack:///./src/apps/EMC/Components/ClinicRegistration.vue?4d59","webpack:///./src/apps/EMC/Components/ClinicRegistration.vue","webpack:///./src/apps/EMC/Components/ClinicRegistration.vue?363e"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_title","_resolveComponent","_component_text_input","_component_ion_col","_component_DateInput","_component_yes_no_input","_component_SelectInput","_component_NumberInput","_component_ion_button","_component_ion_row","_openBlock","_createElementBlock","_Fragment","_createVNode","class","default","_withCtx","_createTextVNode","_","size","modelValue","form","arvNumber","$event","prefix","sitePrefix","disabled","isNewPatient","initialVisitDate","patientDob","today","shouldFollowUp","inline","receivedArvTreatmentBefore","value","key","dateLastTakenArvs","everRegisteredAtClinic","_createCommentVNode","artInitiationLocation","asyncOptions","getFacilities","allowCustom","artStartDate","initialWeight","min","allowUnknown","initialHeight","initialTBStatus","options","initialTbStatusOptions","tptHistory","tptHistoryOptions","tptDrugs","length","tptStartDate","includes","_createBlock","inhQty","rifapentineQty","threeHPQty","tptStartLocation","confirmatoryTest","HIVTestOptions","isConfirmatoryTestDone","confirmatoryTestLocation","confirmatoryTestDate","onClick","onSubmit","color","onClear","$router","back","defineComponent","components","IonRow","IonCol","IonTitle","TextInput","DateInput","YesNoInput","SelectInput","NumberInput","props","patient","type","Object","required","Boolean","String","observations","emits","setup","emit","customRegimenIngredients","ref","registrationService","ClinicRegistrationService","getID","consultationService","ConsultationService","vitalsService","VitalsService","patientTypeService","PatientTypeService","dayjs","format","STANDARD_DATE_FORMAT","computed","date","getBirthdate","reactive","label","placeholder","validation","async","isNumberErr","StandardValidations","isNumber","patients","Patientservice","findByOtherID","isEmpty","match","computedValue","agrees","tag","obs","buildGroupValueCoded","receivedTreatment","buildValueCoded","buildValueDate","f","everRegistered","facility","buildValueText","location","weight","buildValueNumber","validateSeries","validator","height","status","history","amount","buildObs","find","d","name","drug_id","test","patientType","watch","state","alertConfirmation","undefined","error","EventBus","EmcEvents","ON_CLEAR","setDate","submitForm","formData","computedData","data","arvNumberEditable","onMounted","getArvNumber","split","suggestedNumber","ProgramService","getNextSuggestedARVNumber","arv_number","replace","RegimenService","getCustomIngridients","then","drugs","__exports__"],"mappings":"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","file":"js/chunk-2d0d3fd7.80f2310c.js","sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_text_input = _resolveComponent(\"text-input\")!\n  const _component_ion_col = _resolveComponent(\"ion-col\")!\n  const _component_DateInput = _resolveComponent(\"DateInput\")!\n  const _component_yes_no_input = _resolveComponent(\"yes-no-input\")!\n  const _component_SelectInput = _resolveComponent(\"SelectInput\")!\n  const _component_NumberInput = _resolveComponent(\"NumberInput\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_row = _resolveComponent(\"ion-row\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_ion_title, { class: \"ion-text-center ion-margin-vertical ion-padding-bottom bold\" }, {\n      default: _withCtx(() => [\n        _createTextVNode(\" HIV Clinic Registration \")\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_row, { class: \"ion-margin-top ion-margin-bottom\" }, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_col, {\n          size: \"5\",\n          class: \"ion-margin-top ion-margin-bottom\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_text_input, {\n              modelValue: _ctx.form.arvNumber,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.form.arvNumber) = $event)),\n              form: _ctx.form,\n              prefix: `${_ctx.sitePrefix}-ARV-`,\n              disabled: !_ctx.isNewPatient\n            }, null, 8, [\"modelValue\", \"form\", \"prefix\", \"disabled\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_ion_col, {\n          size: \"7\",\n          class: \"ion-margin-top ion-margin-bottom\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_DateInput, {\n              modelValue: _ctx.form.initialVisitDate,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.form.initialVisitDate) = $event)),\n              \"min-date\": _ctx.patientDob,\n              \"max-date\": _ctx.today,\n              form: _ctx.form\n            }, null, 8, [\"modelValue\", \"min-date\", \"max-date\", \"form\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_ion_col, {\n          size: \"5\",\n          class: \"ion-margin-top ion-margin-bottom\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_yes_no_input, {\n              modelValue: _ctx.form.shouldFollowUp,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.form.shouldFollowUp) = $event)),\n              inline: \"\"\n            }, null, 8, [\"modelValue\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_ion_col, {\n          size: \"7\",\n          class: \"ion-margin-top ion-margin-bottom\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_yes_no_input, {\n              modelValue: _ctx.form.receivedArvTreatmentBefore,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.form.receivedArvTreatmentBefore) = $event)),\n              inline: \"\"\n            }, null, 8, [\"modelValue\"])\n          ]),\n          _: 1\n        }),\n        (_ctx.form.receivedArvTreatmentBefore.value === 'Yes')\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n              _createVNode(_component_ion_col, {\n                size: \"12\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_DateInput, {\n                    modelValue: _ctx.form.dateLastTakenArvs,\n                    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.form.dateLastTakenArvs) = $event)),\n                    form: _ctx.form,\n                    \"min-date\": _ctx.patientDob,\n                    \"max-date\": _ctx.today\n                  }, null, 8, [\"modelValue\", \"form\", \"min-date\", \"max-date\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, {\n                size: \"12\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_yes_no_input, {\n                    modelValue: _ctx.form.everRegisteredAtClinic,\n                    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.form.everRegisteredAtClinic) = $event)),\n                    inline: \"\"\n                  }, null, 8, [\"modelValue\"])\n                ]),\n                _: 1\n              })\n            ], 64))\n          : _createCommentVNode(\"\", true),\n        (_ctx.form.everRegisteredAtClinic.value === 'Yes')\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n              _createVNode(_component_ion_col, {\n                size: \"6\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_SelectInput, {\n                    modelValue: _ctx.form.artInitiationLocation,\n                    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.form.artInitiationLocation) = $event)),\n                    form: _ctx.form,\n                    asyncOptions: _ctx.getFacilities,\n                    allowCustom: \"\"\n                  }, null, 8, [\"modelValue\", \"form\", \"asyncOptions\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, {\n                size: \"6\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_DateInput, {\n                    modelValue: _ctx.form.artStartDate,\n                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.form.artStartDate) = $event)),\n                    form: _ctx.form,\n                    \"min-date\": _ctx.patientDob,\n                    \"max-date\": _ctx.today\n                  }, null, 8, [\"modelValue\", \"form\", \"min-date\", \"max-date\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, {\n                size: \"3\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_NumberInput, {\n                    modelValue: _ctx.form.initialWeight,\n                    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.form.initialWeight) = $event)),\n                    form: _ctx.form,\n                    min: 1,\n                    allowUnknown: \"\"\n                  }, null, 8, [\"modelValue\", \"form\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, {\n                size: \"3\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_NumberInput, {\n                    modelValue: _ctx.form.initialHeight,\n                    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.form.initialHeight) = $event)),\n                    form: _ctx.form,\n                    min: 1,\n                    allowUnknown: \"\"\n                  }, null, 8, [\"modelValue\", \"form\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, {\n                size: \"6\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_SelectInput, {\n                    modelValue: _ctx.form.initialTBStatus,\n                    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.form.initialTBStatus) = $event)),\n                    form: _ctx.form,\n                    options: _ctx.initialTbStatusOptions\n                  }, null, 8, [\"modelValue\", \"form\", \"options\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, {\n                size: \"6\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_SelectInput, {\n                    modelValue: _ctx.form.tptHistory,\n                    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((_ctx.form.tptHistory) = $event)),\n                    form: _ctx.form,\n                    options: _ctx.tptHistoryOptions\n                  }, null, 8, [\"modelValue\", \"form\", \"options\"])\n                ]),\n                _: 1\n              }),\n              (_ctx.tptDrugs.length)\n                ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                    _createVNode(_component_ion_col, {\n                      size: \"6\",\n                      class: \"ion-margin-top ion-margin-bottom\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_DateInput, {\n                          modelValue: _ctx.form.tptStartDate,\n                          \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((_ctx.form.tptStartDate) = $event)),\n                          \"min-date\": _ctx.patientDob,\n                          \"max-date\": _ctx.today,\n                          form: _ctx.form\n                        }, null, 8, [\"modelValue\", \"min-date\", \"max-date\", \"form\"])\n                      ]),\n                      _: 1\n                    }),\n                    (_ctx.tptDrugs.includes('INH or H (Isoniazid 300mg tablet)'))\n                      ? (_openBlock(), _createBlock(_component_ion_col, {\n                          key: 0,\n                          size: \"6\",\n                          class: \"ion-margin-top ion-margin-bottom\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_NumberInput, {\n                              modelValue: _ctx.form.inhQty,\n                              \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((_ctx.form.inhQty) = $event)),\n                              form: _ctx.form,\n                              min: 1\n                            }, null, 8, [\"modelValue\", \"form\"])\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    (_ctx.tptDrugs.includes('Rifapentine (150mg)'))\n                      ? (_openBlock(), _createBlock(_component_ion_col, {\n                          key: 1,\n                          size: \"6\",\n                          class: \"ion-margin-top ion-margin-bottom\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_NumberInput, {\n                              modelValue: _ctx.form.rifapentineQty,\n                              \"onUpdate:modelValue\": _cache[14] || (_cache[14] = ($event: any) => ((_ctx.form.rifapentineQty) = $event)),\n                              form: _ctx.form,\n                              min: 1\n                            }, null, 8, [\"modelValue\", \"form\"])\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    (_ctx.tptDrugs.includes('INH 300 / RFP 300 (3HP)'))\n                      ? (_openBlock(), _createBlock(_component_ion_col, {\n                          key: 2,\n                          size: \"6\",\n                          class: \"ion-margin-top ion-margin-bottom\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_NumberInput, {\n                              modelValue: _ctx.form.threeHPQty,\n                              \"onUpdate:modelValue\": _cache[15] || (_cache[15] = ($event: any) => ((_ctx.form.threeHPQty) = $event)),\n                              form: _ctx.form,\n                              min: 1\n                            }, null, 8, [\"modelValue\", \"form\"])\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    _createVNode(_component_ion_col, {\n                      size: \"6\",\n                      class: \"ion-margin-top ion-margin-bottom\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_SelectInput, {\n                          modelValue: _ctx.form.tptStartLocation,\n                          \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event: any) => ((_ctx.form.tptStartLocation) = $event)),\n                          form: _ctx.form,\n                          asyncOptions: _ctx.getFacilities,\n                          allowCustom: \"\"\n                        }, null, 8, [\"modelValue\", \"form\", \"asyncOptions\"])\n                      ]),\n                      _: 1\n                    })\n                  ], 64))\n                : _createCommentVNode(\"\", true)\n            ], 64))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_ion_col, {\n          size: \"6\",\n          class: \"ion-margin-top ion-margin-bottom\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_SelectInput, {\n              modelValue: _ctx.form.confirmatoryTest,\n              \"onUpdate:modelValue\": _cache[17] || (_cache[17] = ($event: any) => ((_ctx.form.confirmatoryTest) = $event)),\n              form: _ctx.form,\n              options: _ctx.HIVTestOptions\n            }, null, 8, [\"modelValue\", \"form\", \"options\"])\n          ]),\n          _: 1\n        }),\n        (_ctx.isConfirmatoryTestDone)\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n              _createVNode(_component_ion_col, {\n                size: \"6\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_SelectInput, {\n                    modelValue: _ctx.form.confirmatoryTestLocation,\n                    \"onUpdate:modelValue\": _cache[18] || (_cache[18] = ($event: any) => ((_ctx.form.confirmatoryTestLocation) = $event)),\n                    form: _ctx.form,\n                    asyncOptions: _ctx.getFacilities,\n                    allowCustom: \"\"\n                  }, null, 8, [\"modelValue\", \"form\", \"asyncOptions\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, {\n                size: \"6\",\n                class: \"ion-margin-top ion-margin-bottom\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_DateInput, {\n                    modelValue: _ctx.form.confirmatoryTestDate,\n                    \"onUpdate:modelValue\": _cache[19] || (_cache[19] = ($event: any) => ((_ctx.form.confirmatoryTestDate) = $event)),\n                    form: _ctx.form,\n                    \"min-date\": _ctx.patientDob,\n                    \"max-date\": _ctx.today\n                  }, null, 8, [\"modelValue\", \"form\", \"min-date\", \"max-date\"])\n                ]),\n                _: 1\n              })\n            ], 64))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_ion_col, {\n          size: \"12\",\n          class: \"ion-margin-top\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_button, {\n              class: \"ion-margin-top ion-float-right\",\n              size: \"large\",\n              onClick: _ctx.onSubmit,\n              color: \"success\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Next\")\n              ]),\n              _: 1\n            }, 8, [\"onClick\"]),\n            _createVNode(_component_ion_button, {\n              class: \"ion-margin-top ion-float-right\",\n              size: \"large\",\n              color: \"warning\",\n              onClick: _ctx.onClear\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Clear\")\n              ]),\n              _: 1\n            }, 8, [\"onClick\"]),\n            (!_ctx.isNewPatient)\n              ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 0,\n                  class: \"ion-margin-top ion-float-right\",\n                  size: \"large\",\n                  onClick: _cache[20] || (_cache[20] = ($event: any) => (_ctx.$router.back())),\n                  color: \"primary\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Back\")\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64))\n}","\nimport {  computed, defineComponent, onMounted, PropType, reactive, ref, watch } from \"vue\";\nimport { IonRow, IonCol, IonTitle } from \"@ionic/vue\";\nimport { Patientservice } from \"@/services/patient_service\";\nimport {  alertConfirmation } from \"@/utils/Alerts\";\nimport { Option } from \"@/components/Forms/FieldInterface\";\nimport { STANDARD_DATE_FORMAT } from \"@/utils/Date\";\nimport { isEmpty } from \"lodash\";\nimport { DTForm } from \"../interfaces/dt_form_field\";\nimport TextInput from \"../Components/inputs/TextInput.vue\";\nimport DateInput from \"../Components/inputs/DateInput.vue\"\nimport YesNoInput from \"../Components/inputs/YesNoInput.vue\";\nimport { ProgramService } from \"@/services/program_service\";\nimport { ClinicRegistrationService } from \"@/apps/ART/services/registration_service\";\nimport SelectInput from \"../Components/inputs/SelectInput.vue\";\nimport { getFacilities } from \"@/utils/HisFormHelpers/LocationFieldOptions\";\nimport NumberInput from \"../Components/inputs/NumberInput.vue\";\nimport { initialTbStatusOptions, HIVTestOptions, tptHistoryOptions } from '@/apps/EMC/utils/DTFormElements'\nimport dayjs from \"dayjs\";\nimport { VitalsService } from \"@/apps/ART/services/vitals_service\";\nimport StandardValidations from \"@/components/Forms/validations/StandardValidations\";\nimport { submitForm } from \"../utils/form\";\nimport { PatientTypeService } from \"@/apps/ART/services/patient_type_service\";\nimport { ConsultationService } from \"@/apps/ART/services/consultation_service\";\nimport { RegimenService } from \"@/services/regimen_service\";\nimport EventBus from \"@/utils/EventBus\";\nimport { EmcEvents } from \"../interfaces/emc_event\";\n\nexport default defineComponent({\n  components: {\n    IonRow,\n    IonCol,\n    IonTitle,\n    TextInput,\n    DateInput,\n    YesNoInput,\n    SelectInput,\n    NumberInput\n  },\n  props: {\n    patient: {\n      type: Object as PropType<Patientservice>,\n      required: true,\n    },\n    isNewPatient: {\n      type: Boolean,\n      default: true,\n    },\n    sitePrefix: {\n      type: String,\n      required: true\n    },\n    observations: {\n      type: Object as PropType<Record<string, any>>,\n      default: () => ({})\n    },\n    initialVisitDate: {\n      type: String,\n      default: \"\"\n    } \n  },\n  emits: [\"onValue\", \"onNext\"],\n  setup(props, { emit }) {\n    const customRegimenIngredients = ref<any[]>([])\n    const registrationService = new ClinicRegistrationService(props.patient.getID(), -1)\n    const consultationService = new ConsultationService(props.patient.getID(), -1)\n    const vitalsService = new VitalsService(props.patient.getID(), -1)\n    const patientTypeService = new PatientTypeService(props.patient.getID(), -1);\n    const today = dayjs().format(STANDARD_DATE_FORMAT)\n    const patientDob = computed(() => {\n      const date = props.patient.getBirthdate() \n      return date ? dayjs(date).format(STANDARD_DATE_FORMAT) : ''\n    })\n\n    const form = reactive<DTForm>({\n      arvNumber: {\n        value: '',\n        label: 'ARV Number',\n        placeholder: \"Enter ARV Number\",\n        required: true,\n        validation: async (arvNumber, form) => {\n          if(form.arvNumber.disabled) return null\n          const isNumberErr = StandardValidations.isNumber(arvNumber, \"POSITIVE_INTEGERS\")\n          if(isNumberErr !== null) return isNumberErr\n          const patients = await Patientservice.findByOtherID(4, `${props.sitePrefix}-ARV-${arvNumber.value}`);\n          return isEmpty(patients) ?  null : ['ARV Number already exists'];\n        },\n      },\n      initialVisitDate: {\n        value: props.initialVisitDate,\n        label: 'Registration Date',\n        required: true,\n      },\n      shouldFollowUp: {\n        value: props.observations['Agrees to followup'] \n          ? props.observations['Agrees to followup'].match(/yes|home visit/i) \n            ? 'Yes'\n            : 'No'\n          : '',\n        label: 'Agrees to follow up ?',\n        computedValue: (agrees: string) => ({\n          tag: 'registration',\n          obs: [\n            registrationService.buildGroupValueCoded('Agrees to followup', 'Home visit', agrees),\n            registrationService.buildGroupValueCoded('Agrees to followup', 'Phone', agrees),\n          ]\n        }),\n        required: true,\n      },\n      receivedArvTreatmentBefore: {\n        value: props.observations['Ever received ART'] || '',\n        label: 'Ever received ARVs for treatment or prophylaxis?',\n        computedValue: (receivedTreatment: string) => ({\n          tag: 'registration',\n          obs: registrationService.buildValueCoded('Ever received ART', receivedTreatment)\n        }),\n        required: true,\n      },\n      dateLastTakenArvs: {\n        value: props.observations['Date ART last taken'] || '',\n        label: 'Date last taken ARVs',\n        computedValue: (date: string) => ({\n          tag: 'registration',\n          obs: registrationService.buildValueDate('Date ART last taken', date)\n        }),\n        validation: async (date: Option, f: DTForm) => f.receivedArvTreatmentBefore.value === 'Yes' &&\n          StandardValidations.required(date),\n      },\n      everRegisteredAtClinic: {\n        value: props.observations['Ever registered at ART clinic'] || '',\n        label: 'Ever registred at an ART clinic',\n        computedValue: (everRegistered: string) => ({\n          tag: 'registration',\n          obs: registrationService.buildValueCoded('Ever registered at ART clinic', everRegistered)\n        }),\n        validation: async (everRegistered: Option, f: DTForm) => f.receivedArvTreatmentBefore.value === 'Yes' &&\n          StandardValidations.required(everRegistered),\n      },\n      artInitiationLocation: {\n        value: props.observations['Location of ART initiation'] || '',\n        label: 'Location of ART Initiation',\n        computedValue: (facility: Option | string) => ({\n          tag:'registration',\n          obs: consultationService.buildValueText(\n            'Location of ART initiation',\n            typeof facility === 'string' ? facility : facility.label\n          )\n        }),\n        validation: async (location: Option, f: DTForm) => {\n          return f.everRegisteredAtClinic.value === 'Yes' &&\n           StandardValidations.required(location)\n        }\n      },\n      artStartDate: {\n        value: props.observations['Date ART started'] || '',\n        label: 'Date started ART',\n        computedValue: (date: string) => ({\n          tag: 'registration',\n          obs: registrationService.buildValueDate('Date ART started', date)\n        }),\n        validation: async (date: Option, f: DTForm) => {\n          return f.everRegisteredAtClinic.value === 'Yes' &&\n           StandardValidations.required(date)\n        }\n      },\n      initialWeight: {\n        value: props.observations['weight'] || '',\n        label: 'Initial Weight',\n        placeholder: 'Enter weight',\n        computedValue: (weight: number) => ({\n          tag: 'vitals',\n          obs: vitalsService.buildValueNumber('weight', weight)\n        }),\n        validation: async (weight: Option, f: DTForm) => {\n          return f.everRegisteredAtClinic.value === 'Yes' && StandardValidations.validateSeries([\n            () => StandardValidations.required(weight),\n            () => vitalsService.validator({...weight, label: 'Weight'})\n          ])\n        }\n      },\n      initialHeight: {\n        value: props.observations['Height'] || '',\n        label: 'Initial Height',\n        placeholder: 'Enter height',\n        computedValue: (height: number) => ({\n          tag: 'vitals',\n          obs: registrationService.buildValueNumber('Height', height)\n        }),\n        validation: async (height: Option, f: DTForm) => {\n          return f.everRegisteredAtClinic.value === 'Yes' && StandardValidations.validateSeries([\n            () => StandardValidations.required(height),\n            () => vitalsService.validator({ ...height, label: 'Height' })\n          ])\n        }\n      },\n      initialTBStatus: {\n        value: props.observations[\"TB Status at Initiation\"] || '',\n        label: 'Initial TB Status',\n        placeholder: 'select TB status',\n        computedValue: (status: Option) => ({\n          tag: 'registration',\n          obs: registrationService.buildValueCoded(\n            \"TB Status at Initiation\", \n            typeof status === 'string' ? status : status.label\n          )\n        }),\n        validation: async (status: Option, f: DTForm) => {\n          return f.everRegisteredAtClinic.value === 'Yes' && StandardValidations.required(status)\n        }\n      },\n      tptHistory: {\n        value: props.observations[\"Previous TB treatment history\"] || '',\n        label: \"TPT History\",\n        placeholder: \"Select TPT history\",\n        computedValue: (history: Option) => ({\n          tag: \"consultation\",\n          obs: consultationService.buildValueText(\n            \"Previous TB treatment history\", \n            typeof history === 'string' ? history : history.label\n          )\n        }),\n        validation: async (history, form) => {\n          return form.everRegisteredAtClinic.value === 'Yes' && \n            StandardValidations.required(history)\n        }\n      },\n      tptStartDate: {\n        value: props.observations['TPT Drugs Received'] || '',\n        label: \"Date started TPT\",\n        validation: async (date, form) => {\n          return form.tptHistory?.value?.label?.match(/currently/i) && \n            StandardValidations.required(date)\n        }\n      },\n      inhQty: {\n        value: '',\n        label: \"INH Amount Received\",\n        validation: async (amount, form) => {\n          const history = form.tptHistory?.value?.label\n          return history?.match(/currently/i) && \n            (history.match(/ipt/i) || history.includes('3HP (RFP + INH)')) && \n            StandardValidations.required(amount)\n        },\n        computedValue: (amount, form) => ({\n          tag: 'consultation',\n          obs:  consultationService.buildObs('TPT Drugs Received', {\n            'value_drug': customRegimenIngredients.value.find(d => d.name === 'INH or H (Isoniazid 300mg tablet)')?.drug_id || 0,\n            'value_datetime': form?.tptStartDate.value || null,\n            'value_numeric': amount || 0\n          })\n        }),\n      },\n      rifapentineQty: {\n        value: '',\n        label: \"Rifapentine Amount Received\",\n        validation: async (amount, form) => {\n          const history = form.tptHistory?.value?.label\n          return history?.match(/currently/i) && history.includes('3HP (RFP + INH)') && \n            StandardValidations.required(amount)\n        },\n        computedValue: (amount, form) => ({\n          tag: 'consultation',\n          obs: consultationService.buildObs('TPT Drugs Received', {\n            'value_drug': customRegimenIngredients.value.find(d => d.name === 'Rifapentine (150mg)')?.drug_id || 0,\n            'value_datetime': form?.tptStartDate.value || null,\n            'value_numeric': amount || 0\n          })\n        }),\n      },\n      threeHPQty: {\n        value: '',\n        label: \"INH / RFP Amount Received\",\n        validation: async (amount, form) => {\n          const history = form.tptHistory?.value?.label\n          return history?.match(/currently/i) && history.includes('INH 300 / RFP 300 (3HP)') && \n            StandardValidations.required(amount)\n        },\n        computedValue: (amount, form) => ({\n          tag: 'consultation',\n          obs: consultationService.buildObs('TPT Drugs Received', {\n            'value_drug': customRegimenIngredients.value.find(d => d.name === 'INH 300 / RFP 300 (3HP)')?.drug_id || 0,\n            'value_datetime': form?.tptStartDate.value || null,\n            'value_numeric': amount || 0\n          })\n        }),\n      },\n      tptStartLocation: {\n        value: props.observations['Location TPT Last Received'] || '',\n        label: \"TPT Transfer From\",\n        validation: async (date, form) => {\n          return form.tptHistory?.value?.label?.match(/currently/i) && \n            StandardValidations.required(date)\n        },\n        computedValue: (facility: Option | string) => ({\n          tag:'consultation',\n          obs: consultationService.buildValueText(\n            'Location TPT Last Received',\n            typeof facility === 'string' ? facility : facility.label\n          )\n        }),\n      },\n      confirmatoryTest: {\n        value: props.observations['Confirmatory hiv test type'] || '',\n        label: 'Confirmatory Test',\n        placeholder: 'Select confirmatory test',\n        required: true,\n        computedValue(test: Option){\n          return {\n            tag: 'registration',\n            obs: registrationService.buildValueCoded(\n              'Confirmatory hiv test type',\n              typeof test === 'string' ? test : test.value\n            )\n          }\n        }\n      },\n      confirmatoryTestLocation: {\n        value: props.observations['Confirmatory HIV test location'] || '',\n        label: 'Location of Confirmatory',\n        placeholder: 'Select location',\n        validation: async (location: Option, f: DTForm) => {\n          return !(f.confirmatoryTest.value.label === 'Not done' || f.confirmatoryTest.value === 'Not done') && \n            StandardValidations.required(location)\n        },\n        computedValue(facility: Option | string){\n          return {\n            tag: 'registration',\n            obs: registrationService.buildValueText(\n              'Confirmatory HIV test location', \n              typeof facility === 'string' ? facility : facility.label\n            )\n          }\n        }\n      },\n      confirmatoryTestDate: {\n        value: props.observations['Confirmatory HIV test date'] || '',\n        label: 'Confirmatory HIV Test Date',\n        validation: async (date: Option, f: DTForm) => {\n          return !(f.confirmatoryTest.value.label === 'Not done' || f.confirmatoryTest.value === 'Not done') && \n            StandardValidations.required(date)\n        },\n        computedValue: (date: string) => ({\n          tag: 'registration',\n          obs: registrationService.buildValueDate('Confirmatory HIV test date', date)\n        }),\n      },\n      patientType: {\n        value: \"New patient\",\n        computedValue: (patientType: string) => ({\n          tag: 'patient type',\n          obs: patientTypeService.buildValueCoded('Type of patient', patientType)\n        }),\n      }\n    });\n\n    const isConfirmatoryTestDone = computed(() => !(form.confirmatoryTest.value.label === 'Not done' || form.confirmatoryTest.value === 'Not done'))\n\n    watch(form.receivedArvTreatmentBefore, state => {\n      if (state.value === 'No') {\n        form.everRegisteredAtClinic.value = ''\n      }\n    });\n\n    const tptDrugs = computed(() => {\n      const tptHistory = typeof form.tptHistory.value === 'string' \n        ? form.tptHistory.value \n        : form.tptHistory.value?.label\n      \n        if(tptHistory?.match(/currently/i)){\n        if(tptHistory.match(/ipt/i)) {\n          return [\"INH or H (Isoniazid 300mg tablet)\"]\n        } else if(tptHistory.includes(\"3HP (RFP + INH)\")){\n          return ['INH or H (Isoniazid 300mg tablet)', 'Rifapentine (150mg)']\n        } else if(tptHistory.includes(\"INH 300 / RFP 300 (3HP)\")){\n          return [\"INH 300 / RFP 300 (3HP)\"]\n        }\n      }\n      return []\n    })\n\n    const onClear = async () => {\n      if((await alertConfirmation('Are you sure you want to clear all fields?'))) {\n        for(const key in form) {\n          if(key === 'patientType') continue;\n          form[key].value = undefined\n          form[key].error = \"\"\n        }\n      }\n      EventBus.emit(EmcEvents.ON_CLEAR)\n    }\n\n    const onSubmit = async () => {\n      patientTypeService.setDate(form.initialVisitDate.value)\n      registrationService.setDate(form.initialVisitDate.value)\n      vitalsService.setDate(form.initialVisitDate.value)\n      consultationService.setDate(form.initialVisitDate.value)\n      \n      await submitForm(form, async (formData, computedData) => {\n        emit(\"onValue\", {\n          type: 'registration',\n          data: {\n            formData,\n            computedData,\n            arvNumberEditable: !form.arvNumber.disabled\n          }\n        })\n        emit(\"onNext\")\n      })\n    }\n\n    onMounted(async () => {\n      const arvNumber = props.patient.getArvNumber()\n      if(arvNumber && arvNumber !== 'Unknown') {\n        form.arvNumber.value = arvNumber.split('-')[2]\n        form.arvNumber.disabled = true\n      } else {\n        const suggestedNumber = await ProgramService.getNextSuggestedARVNumber();\n        form.arvNumber.value = suggestedNumber.arv_number.replace(/^\\D+|\\s/g, \"\");\n      }\n      RegimenService.getCustomIngridients().then(drugs => customRegimenIngredients.value = drugs)\n    }) \n \n    return {\n      today,\n      patientDob,\n      form,\n      isConfirmatoryTestDone,\n      initialTbStatusOptions,\n      tptHistoryOptions,\n      HIVTestOptions,\n      tptDrugs,\n      getFacilities,\n      onClear,\n      onSubmit,\n    };\n  },\n});\n","import { render } from \"./ClinicRegistration.vue?vue&type=template&id=5d75b0ce&ts=true\"\nimport script from \"./ClinicRegistration.vue?vue&type=script&lang=ts\"\nexport * from \"./ClinicRegistration.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}